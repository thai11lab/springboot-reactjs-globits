{"ast":null,"code":"var _jsxFileName = \"D:\\\\TraniningGlobits\\\\baitap_level2\\\\client\\\\react\\\\src\\\\app\\\\views\\\\todo\\\\TagDialog.jsx\";\nimport React, { Component } from \"react\";\nimport { Dialog, TextField, Button } from \"@material-ui/core\";\nimport { getAllTodoTag, addNewTag, deleteTag } from \"./TodoService\";\nimport { generateRandomId } from \"utils\";\n\nclass TagDialog extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: \"\",\n      tagList: []\n    };\n\n    this.handleChange = event => {\n      if (event.key === \"Enter\") {\n        this.handleAddNewTag();\n      } else {\n        this.setState({\n          name: event.target.value\n        });\n      }\n    };\n\n    this.handleAddNewTag = event => {\n      let name = this.state.name;\n      if (name.trim() !== \"\") addNewTag({\n        id: generateRandomId(),\n        name: name.trim()\n      }).then(({\n        data\n      }) => {\n        this.setState({\n          tagList: data,\n          name: \"\"\n        });\n        this.props.reloadTagList();\n      });\n    };\n\n    this.handleDeleteTag = id => {\n      deleteTag({\n        id,\n        name: this.state.name\n      }).then(({\n        data\n      }) => {\n        this.setState({\n          tagList: data\n        });\n        this.props.reloadTagList();\n      });\n    };\n  }\n\n  componentWillMount() {\n    getAllTodoTag().then(({\n      data\n    }) => {\n      this.setState({\n        tagList: [...data]\n      });\n    });\n  }\n\n  render() {\n    let _this$props = this.props,\n        open = _this$props.open,\n        handleClose = _this$props.handleClose;\n    let _this$state = this.state,\n        tagList = _this$state.tagList,\n        name = _this$state.name;\n    return /*#__PURE__*/React.createElement(Dialog, {\n      onClose: handleClose,\n      open: open,\n      maxWidth: \"xs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-16 py-24\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-middle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      onChange: this.handleChange,\n      onKeyDown: this.handleChange,\n      value: name,\n      className: \"flex-grow-1\",\n      label: \"New tag*\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.handleAddNewTag,\n      className: \"\",\n      variant: \"contained\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 15\n      }\n    }, \"Add\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }, tagList.map((tag, index) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-middle flex-space-between my-8\",\n      key: tag.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, index + 1), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"capitalize\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, tag.name), /*#__PURE__*/React.createElement(Button, {\n      onClickCapture: () => this.handleDeleteTag(tag.id),\n      className: \"bg-error\",\n      variant: \"contained\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }, \"Delete\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pt-16 text-align-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: handleClose,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, \"Close\"))));\n  }\n\n}\n\nexport default TagDialog;","map":{"version":3,"sources":["D:/TraniningGlobits/baitap_level2/client/react/src/app/views/todo/TagDialog.jsx"],"names":["React","Component","Dialog","TextField","Button","getAllTodoTag","addNewTag","deleteTag","generateRandomId","TagDialog","state","name","tagList","handleChange","event","key","handleAddNewTag","setState","target","value","trim","id","then","data","props","reloadTagList","handleDeleteTag","componentWillMount","render","open","handleClose","map","tag","index"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Dialog, TextField, Button } from \"@material-ui/core\";\nimport { getAllTodoTag, addNewTag, deleteTag } from \"./TodoService\";\nimport { generateRandomId } from \"utils\";\n\nclass TagDialog extends Component {\n  state = {\n    name: \"\",\n    tagList: []\n  };\n\n  componentWillMount() {\n    getAllTodoTag().then(({ data }) => {\n      this.setState({\n        tagList: [...data]\n      });\n    });\n  }\n\n  handleChange = event => {\n    if (event.key === \"Enter\") {\n      this.handleAddNewTag();\n    } else {\n      this.setState({\n        name: event.target.value\n      });\n    }\n  };\n\n  handleAddNewTag = event => {\n    let { name } = this.state;\n\n    if (name.trim() !== \"\")\n      addNewTag({\n        id: generateRandomId(),\n        name: name.trim()\n      }).then(({ data }) => {\n        this.setState({ tagList: data, name: \"\" });\n        this.props.reloadTagList();\n      });\n  };\n\n  handleDeleteTag = id => {\n    deleteTag({ id, name: this.state.name }).then(({ data }) => {\n      this.setState({ tagList: data });\n      this.props.reloadTagList();\n    });\n  };\n\n  render() {\n    let { open, handleClose } = this.props;\n    let { tagList, name } = this.state;\n\n    return (\n      <Dialog onClose={handleClose} open={open} maxWidth=\"xs\">\n        <div className=\"px-16 py-24\">\n          <div className=\"flex flex-middle\">\n            <TextField\n              onChange={this.handleChange}\n              onKeyDown={this.handleChange}\n              value={name}\n              className=\"flex-grow-1\"\n              label=\"New tag*\"\n            />\n            <div>\n              <Button\n                onClick={this.handleAddNewTag}\n                className=\"\"\n                variant=\"contained\"\n                color=\"primary\"\n              >\n                Add\n              </Button>\n            </div>\n          </div>\n          <div className=\"pt-16\">\n            {tagList.map((tag, index) => (\n              <div\n                className=\"flex flex-middle flex-space-between my-8\"\n                key={tag.id}\n              >\n                <span>{index + 1}</span>\n                <span className=\"capitalize\">{tag.name}</span>\n                <Button\n                  onClickCapture={() => this.handleDeleteTag(tag.id)}\n                  className=\"bg-error\"\n                  variant=\"contained\"\n                >\n                  Delete\n                </Button>\n              </div>\n            ))}\n          </div>\n          <div className=\"pt-16 text-align-right\">\n            <Button onClick={handleClose}>Close</Button>\n          </div>\n        </div>\n      </Dialog>\n    );\n  }\n}\n\nexport default TagDialog;\n"]},"metadata":{},"sourceType":"module"}