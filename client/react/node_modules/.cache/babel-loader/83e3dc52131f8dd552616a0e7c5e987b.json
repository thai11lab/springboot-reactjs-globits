{"ast":null,"code":"var _jsxFileName = \"D:\\\\TraniningGlobits\\\\baitap_level2\\\\client\\\\react\\\\src\\\\app\\\\views\\\\Employee1\\\\EmployeeTable1.jsx\";\nimport React, { Component } from \"react\";\nimport { IconButton, Table, TableHead, TableBody, TableRow, TableCell, Icon, TablePagination, Button, Card, TextField, InputAdornment, Grid, Alert } from \"@material-ui/core\";\nimport { getAllEmployees, deleteUser, getAllEmployeesBySearch, getAllEmployeesBySearchExcell, getList, exportFileExcell1 } from \"./EmployeeService1\";\nimport MemberEditorDialog from \"./MemberEditorDialog1\";\nimport { Breadcrumb, ConfirmationDialog } from \"egret\";\nimport JwtAuthService from '../../services/jwtAuthService';\nimport shortid from \"shortid\";\nimport * as FileSaver from 'file-saver';\nimport * as XLSX from 'xlsx';\nimport { isThisSecond } from \"date-fns\";\nimport { es } from \"date-fns/locale\";\n\nclass EmployeeTable extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rowsPerPage: 10,\n      page: 0,\n      userList: [],\n      shouldOpenEditorDialog: false,\n      shouldOpenConfirmationDialog: false,\n      title: null,\n      totalEmployee: 0,\n      totalPage: 0\n    };\n\n    this.setPage = page => {\n      this.setState({\n        page\n      }, function () {\n        if (this.state.title) {\n          this.handleSubmit();\n        } else {\n          this.updatePageData(this.state.page, this.state.rowsPerPage);\n        }\n      });\n    };\n\n    this.setRowsPerPage = event => {\n      this.setState({\n        rowsPerPage: event.target.value,\n        page: 0\n      }, function () {\n        if (this.state.title) {\n          this.handleSubmit();\n        } else {\n          this.updatePageData(this.state.page, this.state.rowsPerPage);\n        }\n      });\n    };\n\n    this.handleChangePage = (event, newPage) => {\n      this.setPage(newPage);\n    };\n\n    this.handleDialogClose = () => {\n      this.setState({\n        shouldOpenEditorDialog: false,\n        shouldOpenConfirmationDialog: false\n      });\n      this.updatePageData();\n    };\n\n    this.handleDeleteUser = (user, index) => {\n      this.setState({\n        user,\n        shouldOpenConfirmationDialog: true\n      });\n    };\n\n    this.handleConfirmationResponse = () => {\n      if (this.state.page >= 1 && this.state.totalEmployee - this.state.page * this.state.rowsPerPage == 1) {\n        deleteUser(this.state.user).then(() => {\n          this.setState({\n            page: this.state.page - 1\n          });\n          this.updatePageData(this.state.page, this.state.rowsPerPage);\n          this.handleDialogClose();\n        });\n      } else {\n        deleteUser(this.state.user).then(() => {\n          this.handleDialogClose();\n        });\n      }\n    };\n\n    this.updatePageData = () => {\n      getAllEmployees(this.state.page, this.state.rowsPerPage).then(({\n        data\n      }) => {\n        console.log(data);\n        this.setState({\n          userList: [...data.content],\n          totalEmployee: data.totalElements\n        });\n      });\n    };\n\n    this.handleSubmit = () => {\n      let obj = {\n        title: this.state.title,\n        page: this.state.page,\n        rowsPerPage: this.state.rowsPerPage\n      };\n      getAllEmployeesBySearch(obj.title, obj.page, obj.rowsPerPage).then(({\n        data\n      }) => {\n        this.setState({\n          userList: [...data.content],\n          totalEmployee: data.totalElements\n        });\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        title: event.target.value\n      });\n      console.log(event.target.value);\n    };\n\n    this.handleClickExportBy = key => {\n      const fileName = \"employee\";\n      const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n      const fileExtension = '.xlsx';\n      getAllEmployeesBySearchExcell(key).then(({\n        data\n      }) => {\n        const ws = XLSX.utils.json_to_sheet(data);\n        const wb = {\n          Sheets: {\n            'data': ws\n          },\n          SheetNames: ['data']\n        };\n        const excelBuffer = XLSX.write(wb, {\n          bookType: 'xlsx',\n          type: 'array'\n        });\n        const data2 = new Blob([excelBuffer], {\n          type: fileType\n        });\n        FileSaver.saveAs(data2, fileName + fileExtension);\n      });\n    };\n\n    this.handleClickExportAll = () => {\n      const fileName = \"employee\";\n      const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n      const fileExtension = '.xlsx';\n      getList().then(({\n        data\n      }) => {\n        const ws = XLSX.utils.json_to_sheet(data);\n        const wb = {\n          Sheets: {\n            'data': ws\n          },\n          SheetNames: ['data']\n        };\n        const excelBuffer = XLSX.write(wb, {\n          bookType: 'xlsx',\n          type: 'array'\n        });\n        const data1 = new Blob([excelBuffer], {\n          type: fileType\n        });\n        FileSaver.saveAs(data1, fileName + fileExtension);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.updatePageData();\n  }\n\n  /*handleExcell=(key)=>{  \n    const fileName=\"employee\";\n    const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n    const fileExtension = '.xlsx';  \n    exportFileExcell1(key).then(res=>{\n      console.log(res.data);\n      const data1 = new Blob([res.data], {type: fileType});\n      const file = new File([data1], fileName + '.xlsx', { type: 'application/octet-stream' });\n      FileSaver.saveAs(file);\n    })\n  }*/\n  render() {\n    let _this$state = this.state,\n        rowsPerPage = _this$state.rowsPerPage,\n        page = _this$state.page,\n        userList = _this$state.userList,\n        shouldOpenConfirmationDialog = _this$state.shouldOpenConfirmationDialog,\n        shouldOpenEditorDialog = _this$state.shouldOpenEditorDialog,\n        title = _this$state.title,\n        totalEmployee = _this$state.totalEmployee; // userList=userList.reverse();\n\n    const styleSearchGrid = {\n      display: \"flex\"\n    };\n    const styleButton = {\n      height: \"40px\"\n    };\n    const styleText = {\n      height: \"40px\",\n      width: \"60px\",\n      marginLeft: \"10px\",\n      marginTop: \"3px\"\n    };\n    var t = {\n      display: \"none\"\n    };\n\n    if (title == \" \") {\n      var displaySearch = t;\n    }\n\n    var stt = page * rowsPerPage + 1;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"m-sm-30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Alert, {\n      severity: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }\n    }, \"This is an error alert \\u2014 check it out!\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-sm-30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Breadcrumb, {\n      routeSegments: [{\n        name: \"Employee Table\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      className: \"mb-16\",\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      sm: 6,\n      xs: 12,\n      style: styleSearchGrid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: styleButton,\n      className: \"mb-16\",\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: () => this.setState({\n        shouldOpenEditorDialog: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 13\n      }\n    }, \"Th\\xEAm Nh\\xE2n Vi\\xEAn\"), /*#__PURE__*/React.createElement(TextField, {\n      style: styleText,\n      className: \"bg-paper flex-grow-1 mr-16\",\n      margin: \"none\",\n      name: \"title\",\n      placeholder: \"Search here...\",\n      value: this.state.title,\n      onChange: this.handleChange,\n      inputProps: {\n        style: {\n          padding: \"10px\"\n        }\n      },\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      style: styleButton,\n      className: \"mb-16\",\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: () => {\n        this.state.page = 0;\n        this.handleSubmit();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }\n    }, \"T\\xECm ki\\u1EBFm\"), /*#__PURE__*/React.createElement(Button, {\n      style: {\n        height: \"40px\",\n        position: \"relative\",\n        left: \"500px\"\n      },\n      className: \"mb-16\",\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: () => {\n        if (title && title != \"\") {\n          this.handleClickExportBy(title);\n        } else {\n          this.handleClickExportAll();\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 17\n      }\n    }, \"Xu\\u1EA5t File\"))), /*#__PURE__*/React.createElement(\"p\", {\n      style: displaySearch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }\n    }, \"B\\u1EA1n \\u0111ang t\\xECm ki\\u1EBFm theo : \", title), /*#__PURE__*/React.createElement(Card, {\n      className: \"w-100 overflow-auto\",\n      elevation: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      className: \"crud-table\",\n      style: {\n        whiteSpace: \"pre\",\n        minWidth: \"850px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      style: {\n        witdh: \"60px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }\n    }, \"STT\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }\n    }, \"M\\xE3 nh\\xE2n vi\\xEAn\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 17\n      }\n    }, \"H\\u1ECD T\\xEAn\"), /*#__PURE__*/React.createElement(TableCell, {\n      style: {\n        width: \"200px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 17\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 17\n      }\n    }, \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 17\n      }\n    }, \"Tu\\u1ED5i\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 17\n      }\n    }, \"H\\xE0nh \\u0111\\u1ED9ng\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 13\n      }\n    }, userList.map((user, index) => /*#__PURE__*/React.createElement(TableRow, {\n      key: shortid.generate(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0\",\n      align: \"left\",\n      style: {\n        witdh: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 21\n      }\n    }, stt++), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0\",\n      style: {\n        textTransform: 'lowercase'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 21\n      }\n    }, user.code), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0\",\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 21\n      }\n    }, user.name), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-1\",\n      style: {\n        textTransform: 'lowercase',\n        witdh: \"200px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 21\n      }\n    }, user.email), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0\",\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 21\n      }\n    }, user.phone), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0\",\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 21\n      }\n    }, user.age), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0 border-none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: () => this.setState({\n        uid: user.id,\n        shouldOpenEditorDialog: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 25\n      }\n    }, \"edit\")), /*#__PURE__*/React.createElement(IconButton, {\n      onClick: () => this.handleDeleteUser(user, index),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      color: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 25\n      }\n    }, \"delete\"))))))), /*#__PURE__*/React.createElement(TablePagination, {\n      className: \"px-16\",\n      rowsPerPageOptions: [5, 10, 25],\n      component: \"div\",\n      count: totalEmployee,\n      rowsPerPage: rowsPerPage,\n      page: page,\n      backIconButtonProps: {\n        \"aria-label\": \"Previous Page\"\n      },\n      nextIconButtonProps: {\n        \"aria-label\": \"Next Page\"\n      },\n      onChangePage: this.handleChangePage,\n      onChangeRowsPerPage: this.setRowsPerPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 11\n      }\n    }), shouldOpenEditorDialog && /*#__PURE__*/React.createElement(MemberEditorDialog, {\n      handleClose: this.handleDialogClose,\n      open: shouldOpenEditorDialog,\n      uid: this.state.uid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 13\n      }\n    }), shouldOpenConfirmationDialog && /*#__PURE__*/React.createElement(ConfirmationDialog, {\n      open: shouldOpenConfirmationDialog,\n      onConfirmDialogClose: this.handleDialogClose,\n      onYesClick: this.handleConfirmationResponse,\n      text: \"B\\u1EA1n c\\xF3 mu\\u1ED1n x\\xF3a nh\\xE2n vi\\xEAn n\\xE0y?\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nexport default EmployeeTable;","map":{"version":3,"sources":["D:/TraniningGlobits/baitap_level2/client/react/src/app/views/Employee1/EmployeeTable1.jsx"],"names":["React","Component","IconButton","Table","TableHead","TableBody","TableRow","TableCell","Icon","TablePagination","Button","Card","TextField","InputAdornment","Grid","Alert","getAllEmployees","deleteUser","getAllEmployeesBySearch","getAllEmployeesBySearchExcell","getList","exportFileExcell1","MemberEditorDialog","Breadcrumb","ConfirmationDialog","JwtAuthService","shortid","FileSaver","XLSX","isThisSecond","es","EmployeeTable","state","rowsPerPage","page","userList","shouldOpenEditorDialog","shouldOpenConfirmationDialog","title","totalEmployee","totalPage","setPage","setState","handleSubmit","updatePageData","setRowsPerPage","event","target","value","handleChangePage","newPage","handleDialogClose","handleDeleteUser","user","index","handleConfirmationResponse","then","data","console","log","content","totalElements","obj","handleChange","handleClickExportBy","key","fileName","fileType","fileExtension","ws","utils","json_to_sheet","wb","Sheets","SheetNames","excelBuffer","write","bookType","type","data2","Blob","saveAs","handleClickExportAll","data1","componentDidMount","render","styleSearchGrid","display","styleButton","height","styleText","width","marginLeft","marginTop","t","displaySearch","stt","name","style","padding","position","left","whiteSpace","minWidth","witdh","map","generate","textTransform","code","email","phone","age","uid","id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  IconButton,\n  Table,\n  TableHead,\n  TableBody,\n  TableRow,\n  TableCell,\n  Icon,\n  TablePagination,\n  Button,\n  Card,\n  TextField,\n  InputAdornment,\n  Grid,\n  Alert\n} from \"@material-ui/core\";\n\nimport { getAllEmployees, deleteUser,getAllEmployeesBySearch,getAllEmployeesBySearchExcell,getList,exportFileExcell1} from \"./EmployeeService1\";\nimport MemberEditorDialog from \"./MemberEditorDialog1\";\nimport { Breadcrumb, ConfirmationDialog } from \"egret\";\nimport JwtAuthService from '../../services/jwtAuthService';\nimport shortid from \"shortid\";\nimport * as FileSaver from 'file-saver';\nimport * as XLSX from 'xlsx';\nimport { isThisSecond } from \"date-fns\";\nimport { es } from \"date-fns/locale\";\nclass EmployeeTable extends Component {\n  state = {\n    rowsPerPage: 10,\n    page: 0,\n    userList: [],\n    shouldOpenEditorDialog: false,\n    shouldOpenConfirmationDialog: false,\n    title:null,\n    totalEmployee:0,\n    totalPage:0\n  };\n\n  setPage = page => {\n    this.setState({ page },function(){\n      if(this.state.title){\n        this.handleSubmit();\n      }else{\n        this.updatePageData(this.state.page,this.state.rowsPerPage);\n      }\n    }\n    );\n      \n  };\n\n  setRowsPerPage = event => {\n    this.setState({ rowsPerPage: event.target.value,page:0},function(){\n       if(this.state.title){\n        this.handleSubmit();\n       }else{\n        this.updatePageData(this.state.page,this.state.rowsPerPage);\n       }\n    }\n     );\n     \n     \n  };\n\n  handleChangePage = (event, newPage) => {\n    this.setPage(newPage);\n  };\n\n\n  handleDialogClose = () => {\n    this.setState({\n      shouldOpenEditorDialog: false,\n      shouldOpenConfirmationDialog: false\n    });\n    this.updatePageData();\n  };\n\n  handleDeleteUser = (user,index) => { \n    this.setState({\n      user,\n      shouldOpenConfirmationDialog: true,\n    });\n  };\n\n  handleConfirmationResponse = () => {\n    if(this.state.page>=1 && this.state.totalEmployee-this.state.page*this.state.rowsPerPage==1){\n      deleteUser(this.state.user).then(() => {  \n        this.setState({\n          page:this.state.page-1,\n        });\n        this.updatePageData(this.state.page,this.state.rowsPerPage);\n        this.handleDialogClose();\n    });\n    }else{\n      deleteUser(this.state.user).then(() => {  \n        this.handleDialogClose();\n      });\n    }\n  };\n\n\n  \n  componentDidMount() {\n    this.updatePageData();\n  }\n\n  \n\n\n  \n  updatePageData = () => {\n    getAllEmployees(this.state.page,this.state.rowsPerPage).then(({data})=>{\n      console.log(data);\n        this.setState({\n            userList:[...data.content],\n            totalEmployee:data.totalElements\n        })\n    });\n  };\n  \n  handleSubmit=()=>{\n    let obj={\n      title:this.state.title,\n      page:this.state.page,\n      rowsPerPage:this.state.rowsPerPage\n    };\n    \n    getAllEmployeesBySearch(obj.title,obj.page,obj.rowsPerPage)\n     .then(({ data }) => {\n        this.setState({\n            userList: [...data.content],\n            totalEmployee:data.totalElements\n          })\n     });\n    \n  }\n\n  \n  handleChange=(event)=>{\n    this.setState({\n      title: event.target.value\n    });\n    console.log(event.target.value);\n  }\n\n\n handleClickExportBy=(key)=>{\n  const fileName=\"employee\";\n  const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n  const fileExtension = '.xlsx';\n  getAllEmployeesBySearchExcell(key).\n    then(({data}) =>{\n      const ws = XLSX.utils.json_to_sheet(data);\n      const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\n      const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\n      const data2 = new Blob([excelBuffer], {type: fileType});\n      FileSaver.saveAs(data2, fileName + fileExtension);\n    });\n  \n}\n handleClickExportAll=()=>{\n    const fileName=\"employee\";\n    const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n    const fileExtension = '.xlsx';\n    getList().then(({ data }) => {\n      const ws = XLSX.utils.json_to_sheet(data);\n      const wb = { Sheets: { 'data': ws }, SheetNames: ['data'] };\n      const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\n      const data1 = new Blob([excelBuffer], {type: fileType});\n      FileSaver.saveAs(data1, fileName + fileExtension);\n    });\n  }\n  /*handleExcell=(key)=>{  \n    const fileName=\"employee\";\n    const fileType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\n    const fileExtension = '.xlsx';  \n    exportFileExcell1(key).then(res=>{\n      console.log(res.data);\n      const data1 = new Blob([res.data], {type: fileType});\n      const file = new File([data1], fileName + '.xlsx', { type: 'application/octet-stream' });\n      FileSaver.saveAs(file);\n    })\n  }*/\n  render() {\n    let {\n      rowsPerPage,\n      page,\n      userList,\n      shouldOpenConfirmationDialog,\n      shouldOpenEditorDialog,\n      title,\n      totalEmployee\n    } = this.state;\n\n   // userList=userList.reverse();\n\n    const styleSearchGrid ={\n      display:\"flex\",\n    };\n\n    const styleButton={\n      height:\"40px\", \n      \n    };\n    const styleText={\n      height:\"40px\", \n      width:\"60px\" ,\n      marginLeft:\"10px\",\n      marginTop:\"3px\",\n    };\n\n    var t={\n      display:\"none\"\n    }\n    if(title == \" \"){\n      var displaySearch=t;\n    }\n  \n    var stt=page*rowsPerPage+1;\n\n    return (\n      <div className=\"m-sm-30\">\n        <Alert severity=\"error\">This is an error alert — check it out!</Alert>\n        <div  className=\"mb-sm-30\">\n          <Breadcrumb routeSegments={[{ name: \"Employee Table\" }]} />\n        </div>\n        \n        <Grid className=\"mb-16\" container spacing={2} >\n          <Grid item sm={6} xs={12} style={styleSearchGrid} >\n            <Button\n              style={styleButton}\n              className=\"mb-16\"\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => this.setState({shouldOpenEditorDialog: true})}\n            >\n              Thêm Nhân Viên\n            </Button>\n                <TextField\n                    style={styleText}\n                    className=\"bg-paper flex-grow-1 mr-16\"\n                    margin=\"none\"\n                    name=\"title\"\n                    placeholder=\"Search here...\"\n                    value={this.state.title}\n                    onChange={this.handleChange}\n                    inputProps={{\n                      style: {\n                        padding: \"10px\"\n                      }\n                    }}\n                    fullWidth\n                ></TextField>\n                <Button\n                  style={styleButton}\n                  className=\"mb-16\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={()=>{\n                    this.state.page=0;\n                    this.handleSubmit();\n                  }}\n                >\n                  Tìm kiếm\n                </Button>\n                <Button\n                  style={{height:\"40px\", \n                  position:\"relative\",\n                  left:\"500px\"}}\n\n                  className=\"mb-16\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  \n                  onClick={()=>{\n                    if(title &&title !=\"\" ){\n                      this.handleClickExportBy(title)\n                    }else{\n                      this.handleClickExportAll();\n                    }\n                    }\n                  }\n                  \n                >\n                  Xuất File\n              </Button>  \n          </Grid>\n      \n        </Grid>\n        <p style={displaySearch}>Bạn đang tìm kiếm theo : {title}</p>\n        <Card className=\"w-100 overflow-auto\" elevation={10}>\n          <Table className=\"crud-table\" style={{ whiteSpace: \"pre\", minWidth: \"850px\" }}>\n            <TableHead>\n              <TableRow>\n                <TableCell style={{witdh:\"60px\"}}>STT</TableCell>\n                <TableCell>Mã nhân viên</TableCell>\n                <TableCell>Họ Tên</TableCell>\n                <TableCell style={{width:\"200px\"}}>Email</TableCell>\n                <TableCell>Số điện thoại</TableCell>\n                <TableCell>Tuổi</TableCell>\n                <TableCell>Hành động</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              \n              {userList\n                .map((user, index) => (\n                  <TableRow key={shortid.generate()}>\n                    <TableCell className=\"px-0\" align=\"left\" style={{witdh:\"10px\"}}>\n                    {\n                      stt++\n                    }\n                    </TableCell>\n                    <TableCell className=\"px-0\" \n                        style={{ textTransform: 'lowercase',\n                       \n                      }\n                    }\n                    >\n                      {user.code}\n                    </TableCell>\n                    <TableCell className=\"px-0\" align=\"left\">\n                      {user.name}\n                    </TableCell>\n                    \n                    <TableCell className=\"px-1\"  style={{ textTransform: 'lowercase', witdh:\"200px\",}}>\n                      {user.email}\n                    </TableCell>\n                    <TableCell className=\"px-0\" align=\"left\">\n                      {user.phone}\n                    </TableCell>\n                    <TableCell className=\"px-0\" align=\"left\">\n                      {user.age}\n                    </TableCell>\n                    <TableCell className=\"px-0 border-none\">\n                      <IconButton\n                        onClick={() =>\n                          this.setState({\n                            uid: user.id,\n                            shouldOpenEditorDialog: true\n                          })\n                        }\n                      >\n                        <Icon color=\"primary\">edit</Icon>\n                      </IconButton>\n                      <IconButton onClick={() => this.handleDeleteUser(user,index)}>\n                        <Icon color=\"error\">delete</Icon>\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                ))}\n            </TableBody>\n          </Table>\n\n          <TablePagination\n            className=\"px-16\"\n            rowsPerPageOptions={[5, 10, 25]}\n            component=\"div\"\n            count={totalEmployee}\n            rowsPerPage={rowsPerPage}\n            page={page}\n            backIconButtonProps={{\n              \"aria-label\": \"Previous Page\"\n            }}\n            nextIconButtonProps={{\n              \"aria-label\": \"Next Page\"\n            }}\n            onChangePage={this.handleChangePage}\n            onChangeRowsPerPage={this.setRowsPerPage}\n          />\n\n          {shouldOpenEditorDialog && (\n            <MemberEditorDialog\n              handleClose={this.handleDialogClose}\n              open={shouldOpenEditorDialog}\n              uid={this.state.uid}\n            />\n          )}\n          {shouldOpenConfirmationDialog && (\n            <ConfirmationDialog\n              open={shouldOpenConfirmationDialog}\n              onConfirmDialogClose={this.handleDialogClose}\n              onYesClick={this.handleConfirmationResponse}\n              text=\"Bạn có muốn xóa nhân viên này?\"\n            />\n          )}\n        </Card>\n        \n      </div>\n    );\n  }\n}\n\nexport default EmployeeTable;\n"]},"metadata":{},"sourceType":"module"}