{"ast":null,"code":"import _uniqueId from \"lodash/uniqueId\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport VictoryPortal from \"../victory-portal/victory-portal\";\nimport CustomPropTypes from \"../victory-util/prop-types\";\nimport Helpers from \"../victory-util/helpers\";\nimport LabelHelpers from \"../victory-util/label-helpers\";\nimport Style from \"../victory-util/style\";\nimport Log from \"../victory-util/log\";\nimport TSpan from \"../victory-primitives/tspan\";\nimport Text from \"../victory-primitives/text\";\nvar defaultStyles = {\n  fill: \"#252525\",\n  fontSize: 14,\n  fontFamily: \"'Gill Sans', 'Gill Sans MT', 'Ser­avek', 'Trebuchet MS', sans-serif\",\n  stroke: \"transparent\"\n};\n\nvar VictoryLabel = /*#__PURE__*/function (_React$Component) {\n  _inherits(VictoryLabel, _React$Component);\n\n  function VictoryLabel(props) {\n    var _this;\n\n    _classCallCheck(this, VictoryLabel);\n\n    _this = _possibleConstructorReturn(this, (VictoryLabel.__proto__ || Object.getPrototypeOf(VictoryLabel)).call(this, props));\n    _this.id = props.id === undefined ? _uniqueId(\"label-\") : props.id;\n    return _this;\n  }\n\n  _createClass(VictoryLabel, [{\n    key: \"getPosition\",\n    value: function getPosition(props, dimension) {\n      if (!props.datum) {\n        return 0;\n      }\n\n      var scaledPoint = Helpers.scalePoint(props, props.datum);\n      return scaledPoint[dimension];\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle(props, style) {\n      style = style ? _defaults({}, style, defaultStyles) : defaultStyles;\n      var datum = props.datum || props.data;\n      var baseStyles = Helpers.evaluateStyle(style, datum, props.active);\n      return _assign({}, baseStyles, {\n        fontSize: this.getFontSize(baseStyles)\n      });\n    }\n  }, {\n    key: \"getStyles\",\n    value: function getStyles(props) {\n      var _this2 = this;\n\n      return Array.isArray(props.style) && !_isEmpty(props.style) ? props.style.map(function (style) {\n        return _this2.getStyle(props, style);\n      }) : [this.getStyle(props, props.style)];\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight(props, type) {\n      var datum = props.datum || props.data;\n      return Helpers.evaluateProp(props[type], datum, props.active);\n    }\n  }, {\n    key: \"getContent\",\n    value: function getContent(props) {\n      if (props.text === undefined || props.text === null) {\n        return undefined;\n      }\n\n      var datum = props.datum || props.data;\n\n      if (Array.isArray(props.text)) {\n        return props.text.map(function (line) {\n          return Helpers.evaluateProp(line, datum, props.active);\n        });\n      }\n\n      var child = Helpers.evaluateProp(props.text, datum, props.active);\n\n      if (child === undefined || child === null) {\n        return undefined;\n      }\n\n      return Array.isArray(child) ? child : \"\".concat(child).split(\"\\n\");\n    } //eslint-disable-next-line max-params\n\n  }, {\n    key: \"getDy\",\n    value: function getDy(props, style, content, lineHeight) {\n      style = Array.isArray(style) ? style[0] : style;\n      lineHeight = this.checkLineHeight(lineHeight, lineHeight[0], 1);\n      var fontSize = style.fontSize;\n      var datum = props.datum || props.data;\n      var dy = props.dy ? Helpers.evaluateProp(props.dy, datum, props.active) : 0;\n      var length = content.length;\n      var capHeight = this.getHeight(props, \"capHeight\");\n      var verticalAnchor = style.verticalAnchor || props.verticalAnchor;\n      var anchor = verticalAnchor ? Helpers.evaluateProp(verticalAnchor, datum) : \"middle\";\n\n      switch (anchor) {\n        case \"end\":\n          return dy + (capHeight / 2 + (0.5 - length) * lineHeight) * fontSize;\n\n        case \"middle\":\n          return dy + (capHeight / 2 + (0.5 - length / 2) * lineHeight) * fontSize;\n\n        default:\n          return dy + (capHeight / 2 + lineHeight / 2) * fontSize;\n      }\n    }\n  }, {\n    key: \"checkLineHeight\",\n    value: function checkLineHeight(lineHeight, val, fallbackVal) {\n      if (Array.isArray(lineHeight)) {\n        return _isEmpty(lineHeight) ? fallbackVal : val;\n      }\n\n      return lineHeight;\n    }\n  }, {\n    key: \"getTransform\",\n    value: function getTransform(props, style) {\n      var active = props.active,\n          datum = props.datum,\n          x = props.x,\n          y = props.y,\n          polar = props.polar;\n      var defaultAngle = polar ? LabelHelpers.getPolarAngle(props) : 0;\n      var baseAngle = style.angle === undefined ? props.angle : style.angle;\n      var angle = baseAngle === undefined ? defaultAngle : baseAngle;\n      var transform = props.transform || style.transform;\n      var transformPart = transform && Helpers.evaluateProp(transform, datum, active);\n      var rotatePart = angle && {\n        rotate: [angle, x, y]\n      };\n      return transformPart || angle ? Style.toTransformString(transformPart, rotatePart) : undefined;\n    }\n  }, {\n    key: \"getFontSize\",\n    value: function getFontSize(style) {\n      var baseSize = style && style.fontSize;\n\n      if (typeof baseSize === \"number\") {\n        return baseSize;\n      } else if (baseSize === undefined || baseSize === null) {\n        return defaultStyles.fontSize;\n      } else if (typeof baseSize === \"string\") {\n        var fontSize = +baseSize.replace(\"px\", \"\");\n\n        if (!isNaN(fontSize)) {\n          return fontSize;\n        } else {\n          Log.warn(\"fontSize should be expressed as a number of pixels\");\n          return defaultStyles.fontSize;\n        }\n      }\n\n      return defaultStyles.fontSize;\n    }\n  }, {\n    key: \"renderElements\",\n    value: function renderElements(props, content) {\n      var _this3 = this;\n\n      var datum = props.datum,\n          active = props.active,\n          inline = props.inline,\n          className = props.className,\n          title = props.title,\n          desc = props.desc,\n          events = props.events,\n          direction = props.direction;\n      var style = this.getStyles(props);\n      var lineHeight = this.getHeight(props, \"lineHeight\");\n      var textAnchor = props.textAnchor ? Helpers.evaluateProp(props.textAnchor, datum, active) : \"start\";\n      var dx = props.dx ? Helpers.evaluateProp(props.dx, datum, active) : 0;\n      var dy = this.getDy(props, style, content, lineHeight);\n      var transform = this.getTransform(props, style);\n      var x = props.x !== undefined ? props.x : this.getPosition(props, \"x\");\n      var y = props.y !== undefined ? props.y : this.getPosition(props, \"y\");\n      var textChildren = content.map(function (line, i) {\n        var currentStyle = style[i] || style[0];\n        var lastStyle = style[i - 1] || style[0];\n        var fontSize = (currentStyle.fontSize + lastStyle.fontSize) / 2;\n\n        var currentLineHeight = _this3.checkLineHeight(lineHeight, (lineHeight[i] + (lineHeight[i - 1] || lineHeight[0])) / 2, 1);\n\n        var tspanProps = {\n          key: \"\".concat(_this3.id, \"-key-\").concat(i),\n          x: !inline ? props.x : undefined,\n          dx: dx,\n          dy: i && !inline ? currentLineHeight * fontSize : undefined,\n          textAnchor: currentStyle.textAnchor || textAnchor,\n          style: currentStyle,\n          content: line\n        };\n        return React.cloneElement(props.tspanComponent, tspanProps);\n      });\n      return React.cloneElement(props.textComponent, {\n        direction: direction,\n        dx: dx,\n        dy: dy,\n        x: x,\n        y: y,\n        events: events,\n        transform: transform,\n        className: className,\n        title: title,\n        desc: desc,\n        id: this.id\n      }, textChildren);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var content = this.getContent(this.props);\n\n      if (content === null || content === undefined) {\n        return null;\n      }\n\n      var label = this.renderElements(this.props, content);\n      return this.props.renderInPortal ? React.createElement(VictoryPortal, null, label) : label;\n    }\n  }]);\n\n  return VictoryLabel;\n}(React.Component);\n\nObject.defineProperty(VictoryLabel, \"displayName\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"VictoryLabel\"\n});\nObject.defineProperty(VictoryLabel, \"role\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"label\"\n});\nObject.defineProperty(VictoryLabel, \"defaultStyles\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: defaultStyles\n});\nObject.defineProperty(VictoryLabel, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    active: PropTypes.bool,\n    angle: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    capHeight: PropTypes.oneOfType([PropTypes.string, CustomPropTypes.nonNegative, PropTypes.func]),\n    className: PropTypes.string,\n    data: PropTypes.array,\n    datum: PropTypes.any,\n    desc: PropTypes.string,\n    direction: PropTypes.oneOf([\"rtl\", \"ltr\", \"inherit\"]),\n    dx: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n    dy: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n    events: PropTypes.object,\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    index: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    inline: PropTypes.bool,\n    labelPlacement: PropTypes.oneOf([\"parallel\", \"perpendicular\", \"vertical\"]),\n    lineHeight: PropTypes.oneOfType([PropTypes.string, CustomPropTypes.nonNegative, PropTypes.func, PropTypes.array]),\n    origin: PropTypes.shape({\n      x: CustomPropTypes.nonNegative,\n      y: CustomPropTypes.nonNegative\n    }),\n    polar: PropTypes.bool,\n    renderInPortal: PropTypes.bool,\n    scale: PropTypes.shape({\n      x: CustomPropTypes.scale,\n      y: CustomPropTypes.scale\n    }),\n    style: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    text: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func, PropTypes.array]),\n    textAnchor: PropTypes.oneOfType([PropTypes.oneOf([\"start\", \"middle\", \"end\", \"inherit\"]), PropTypes.func]),\n    textComponent: PropTypes.element,\n    title: PropTypes.string,\n    transform: PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.func]),\n    tspanComponent: PropTypes.element,\n    verticalAnchor: PropTypes.oneOfType([PropTypes.oneOf([\"start\", \"middle\", \"end\"]), PropTypes.func]),\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n  }\n});\nObject.defineProperty(VictoryLabel, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    direction: \"inherit\",\n    textComponent: React.createElement(Text, null),\n    tspanComponent: React.createElement(TSpan, null),\n    capHeight: 0.71,\n    // Magic number from d3.\n    lineHeight: 1\n  }\n});\nexport { VictoryLabel as default };","map":{"version":3,"sources":["D:/TraniningGlobits/baitap_level2/client/react/node_modules/victory-core/es/victory-label/victory-label.js"],"names":["_uniqueId","_isEmpty","_defaults","_assign","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_possibleConstructorReturn","self","call","_assertThisInitialized","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","React","PropTypes","VictoryPortal","CustomPropTypes","Helpers","LabelHelpers","Style","Log","TSpan","Text","defaultStyles","fill","fontSize","fontFamily","stroke","VictoryLabel","_React$Component","_this","getPrototypeOf","id","undefined","getPosition","dimension","datum","scaledPoint","scalePoint","getStyle","style","data","baseStyles","evaluateStyle","active","getFontSize","getStyles","_this2","Array","isArray","map","getHeight","type","evaluateProp","getContent","text","line","child","concat","split","getDy","content","lineHeight","checkLineHeight","dy","capHeight","verticalAnchor","anchor","val","fallbackVal","getTransform","x","y","polar","defaultAngle","getPolarAngle","baseAngle","angle","transform","transformPart","rotatePart","rotate","toTransformString","baseSize","replace","isNaN","warn","renderElements","_this3","inline","className","title","desc","events","direction","textAnchor","dx","textChildren","currentStyle","lastStyle","currentLineHeight","tspanProps","cloneElement","tspanComponent","textComponent","render","label","renderInPortal","createElement","Component","bool","oneOfType","string","number","nonNegative","func","array","any","oneOf","object","index","labelPlacement","origin","shape","scale","element","default"],"mappings":"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","sourcesContent":["import _uniqueId from \"lodash/uniqueId\";\nimport _isEmpty from \"lodash/isEmpty\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport VictoryPortal from \"../victory-portal/victory-portal\";\nimport CustomPropTypes from \"../victory-util/prop-types\";\nimport Helpers from \"../victory-util/helpers\";\nimport LabelHelpers from \"../victory-util/label-helpers\";\nimport Style from \"../victory-util/style\";\nimport Log from \"../victory-util/log\";\nimport TSpan from \"../victory-primitives/tspan\";\nimport Text from \"../victory-primitives/text\";\nvar defaultStyles = {\n  fill: \"#252525\",\n  fontSize: 14,\n  fontFamily: \"'Gill Sans', 'Gill Sans MT', 'Ser­avek', 'Trebuchet MS', sans-serif\",\n  stroke: \"transparent\"\n};\n\nvar VictoryLabel =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(VictoryLabel, _React$Component);\n\n  function VictoryLabel(props) {\n    var _this;\n\n    _classCallCheck(this, VictoryLabel);\n\n    _this = _possibleConstructorReturn(this, (VictoryLabel.__proto__ || Object.getPrototypeOf(VictoryLabel)).call(this, props));\n    _this.id = props.id === undefined ? _uniqueId(\"label-\") : props.id;\n    return _this;\n  }\n\n  _createClass(VictoryLabel, [{\n    key: \"getPosition\",\n    value: function getPosition(props, dimension) {\n      if (!props.datum) {\n        return 0;\n      }\n\n      var scaledPoint = Helpers.scalePoint(props, props.datum);\n      return scaledPoint[dimension];\n    }\n  }, {\n    key: \"getStyle\",\n    value: function getStyle(props, style) {\n      style = style ? _defaults({}, style, defaultStyles) : defaultStyles;\n      var datum = props.datum || props.data;\n      var baseStyles = Helpers.evaluateStyle(style, datum, props.active);\n      return _assign({}, baseStyles, {\n        fontSize: this.getFontSize(baseStyles)\n      });\n    }\n  }, {\n    key: \"getStyles\",\n    value: function getStyles(props) {\n      var _this2 = this;\n\n      return Array.isArray(props.style) && !_isEmpty(props.style) ? props.style.map(function (style) {\n        return _this2.getStyle(props, style);\n      }) : [this.getStyle(props, props.style)];\n    }\n  }, {\n    key: \"getHeight\",\n    value: function getHeight(props, type) {\n      var datum = props.datum || props.data;\n      return Helpers.evaluateProp(props[type], datum, props.active);\n    }\n  }, {\n    key: \"getContent\",\n    value: function getContent(props) {\n      if (props.text === undefined || props.text === null) {\n        return undefined;\n      }\n\n      var datum = props.datum || props.data;\n\n      if (Array.isArray(props.text)) {\n        return props.text.map(function (line) {\n          return Helpers.evaluateProp(line, datum, props.active);\n        });\n      }\n\n      var child = Helpers.evaluateProp(props.text, datum, props.active);\n\n      if (child === undefined || child === null) {\n        return undefined;\n      }\n\n      return Array.isArray(child) ? child : \"\".concat(child).split(\"\\n\");\n    } //eslint-disable-next-line max-params\n\n  }, {\n    key: \"getDy\",\n    value: function getDy(props, style, content, lineHeight) {\n      style = Array.isArray(style) ? style[0] : style;\n      lineHeight = this.checkLineHeight(lineHeight, lineHeight[0], 1);\n      var fontSize = style.fontSize;\n      var datum = props.datum || props.data;\n      var dy = props.dy ? Helpers.evaluateProp(props.dy, datum, props.active) : 0;\n      var length = content.length;\n      var capHeight = this.getHeight(props, \"capHeight\");\n      var verticalAnchor = style.verticalAnchor || props.verticalAnchor;\n      var anchor = verticalAnchor ? Helpers.evaluateProp(verticalAnchor, datum) : \"middle\";\n\n      switch (anchor) {\n        case \"end\":\n          return dy + (capHeight / 2 + (0.5 - length) * lineHeight) * fontSize;\n\n        case \"middle\":\n          return dy + (capHeight / 2 + (0.5 - length / 2) * lineHeight) * fontSize;\n\n        default:\n          return dy + (capHeight / 2 + lineHeight / 2) * fontSize;\n      }\n    }\n  }, {\n    key: \"checkLineHeight\",\n    value: function checkLineHeight(lineHeight, val, fallbackVal) {\n      if (Array.isArray(lineHeight)) {\n        return _isEmpty(lineHeight) ? fallbackVal : val;\n      }\n\n      return lineHeight;\n    }\n  }, {\n    key: \"getTransform\",\n    value: function getTransform(props, style) {\n      var active = props.active,\n          datum = props.datum,\n          x = props.x,\n          y = props.y,\n          polar = props.polar;\n      var defaultAngle = polar ? LabelHelpers.getPolarAngle(props) : 0;\n      var baseAngle = style.angle === undefined ? props.angle : style.angle;\n      var angle = baseAngle === undefined ? defaultAngle : baseAngle;\n      var transform = props.transform || style.transform;\n      var transformPart = transform && Helpers.evaluateProp(transform, datum, active);\n      var rotatePart = angle && {\n        rotate: [angle, x, y]\n      };\n      return transformPart || angle ? Style.toTransformString(transformPart, rotatePart) : undefined;\n    }\n  }, {\n    key: \"getFontSize\",\n    value: function getFontSize(style) {\n      var baseSize = style && style.fontSize;\n\n      if (typeof baseSize === \"number\") {\n        return baseSize;\n      } else if (baseSize === undefined || baseSize === null) {\n        return defaultStyles.fontSize;\n      } else if (typeof baseSize === \"string\") {\n        var fontSize = +baseSize.replace(\"px\", \"\");\n\n        if (!isNaN(fontSize)) {\n          return fontSize;\n        } else {\n          Log.warn(\"fontSize should be expressed as a number of pixels\");\n          return defaultStyles.fontSize;\n        }\n      }\n\n      return defaultStyles.fontSize;\n    }\n  }, {\n    key: \"renderElements\",\n    value: function renderElements(props, content) {\n      var _this3 = this;\n\n      var datum = props.datum,\n          active = props.active,\n          inline = props.inline,\n          className = props.className,\n          title = props.title,\n          desc = props.desc,\n          events = props.events,\n          direction = props.direction;\n      var style = this.getStyles(props);\n      var lineHeight = this.getHeight(props, \"lineHeight\");\n      var textAnchor = props.textAnchor ? Helpers.evaluateProp(props.textAnchor, datum, active) : \"start\";\n      var dx = props.dx ? Helpers.evaluateProp(props.dx, datum, active) : 0;\n      var dy = this.getDy(props, style, content, lineHeight);\n      var transform = this.getTransform(props, style);\n      var x = props.x !== undefined ? props.x : this.getPosition(props, \"x\");\n      var y = props.y !== undefined ? props.y : this.getPosition(props, \"y\");\n      var textChildren = content.map(function (line, i) {\n        var currentStyle = style[i] || style[0];\n        var lastStyle = style[i - 1] || style[0];\n        var fontSize = (currentStyle.fontSize + lastStyle.fontSize) / 2;\n\n        var currentLineHeight = _this3.checkLineHeight(lineHeight, (lineHeight[i] + (lineHeight[i - 1] || lineHeight[0])) / 2, 1);\n\n        var tspanProps = {\n          key: \"\".concat(_this3.id, \"-key-\").concat(i),\n          x: !inline ? props.x : undefined,\n          dx: dx,\n          dy: i && !inline ? currentLineHeight * fontSize : undefined,\n          textAnchor: currentStyle.textAnchor || textAnchor,\n          style: currentStyle,\n          content: line\n        };\n        return React.cloneElement(props.tspanComponent, tspanProps);\n      });\n      return React.cloneElement(props.textComponent, {\n        direction: direction,\n        dx: dx,\n        dy: dy,\n        x: x,\n        y: y,\n        events: events,\n        transform: transform,\n        className: className,\n        title: title,\n        desc: desc,\n        id: this.id\n      }, textChildren);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var content = this.getContent(this.props);\n\n      if (content === null || content === undefined) {\n        return null;\n      }\n\n      var label = this.renderElements(this.props, content);\n      return this.props.renderInPortal ? React.createElement(VictoryPortal, null, label) : label;\n    }\n  }]);\n\n  return VictoryLabel;\n}(React.Component);\n\nObject.defineProperty(VictoryLabel, \"displayName\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"VictoryLabel\"\n});\nObject.defineProperty(VictoryLabel, \"role\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"label\"\n});\nObject.defineProperty(VictoryLabel, \"defaultStyles\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: defaultStyles\n});\nObject.defineProperty(VictoryLabel, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    active: PropTypes.bool,\n    angle: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    capHeight: PropTypes.oneOfType([PropTypes.string, CustomPropTypes.nonNegative, PropTypes.func]),\n    className: PropTypes.string,\n    data: PropTypes.array,\n    datum: PropTypes.any,\n    desc: PropTypes.string,\n    direction: PropTypes.oneOf([\"rtl\", \"ltr\", \"inherit\"]),\n    dx: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n    dy: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n    events: PropTypes.object,\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    index: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    inline: PropTypes.bool,\n    labelPlacement: PropTypes.oneOf([\"parallel\", \"perpendicular\", \"vertical\"]),\n    lineHeight: PropTypes.oneOfType([PropTypes.string, CustomPropTypes.nonNegative, PropTypes.func, PropTypes.array]),\n    origin: PropTypes.shape({\n      x: CustomPropTypes.nonNegative,\n      y: CustomPropTypes.nonNegative\n    }),\n    polar: PropTypes.bool,\n    renderInPortal: PropTypes.bool,\n    scale: PropTypes.shape({\n      x: CustomPropTypes.scale,\n      y: CustomPropTypes.scale\n    }),\n    style: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    text: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func, PropTypes.array]),\n    textAnchor: PropTypes.oneOfType([PropTypes.oneOf([\"start\", \"middle\", \"end\", \"inherit\"]), PropTypes.func]),\n    textComponent: PropTypes.element,\n    title: PropTypes.string,\n    transform: PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.func]),\n    tspanComponent: PropTypes.element,\n    verticalAnchor: PropTypes.oneOfType([PropTypes.oneOf([\"start\", \"middle\", \"end\"]), PropTypes.func]),\n    x: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    y: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n  }\n});\nObject.defineProperty(VictoryLabel, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    direction: \"inherit\",\n    textComponent: React.createElement(Text, null),\n    tspanComponent: React.createElement(TSpan, null),\n    capHeight: 0.71,\n    // Magic number from d3.\n    lineHeight: 1\n  }\n});\nexport { VictoryLabel as default };"]},"metadata":{},"sourceType":"module"}