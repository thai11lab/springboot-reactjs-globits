{"ast":null,"code":"import _isNil from \"lodash/isNil\";\nimport _isNaN from \"lodash/isNaN\";\nimport _keys from \"lodash/keys\";\nimport _groupBy from \"lodash/groupBy\";\nimport _uniq from \"lodash/uniq\";\nimport _assign from \"lodash/assign\";\nimport _defaults from \"lodash/defaults\";\nimport _orderBy from \"lodash/orderBy\";\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport { Helpers, Scale, Domain, Data } from \"victory-core\";\nimport { min as d3Min, max as d3Max, quantile as d3Quantile } from \"d3-array\";\nvar TYPES = [\"max\", \"min\", \"median\", \"q1\", \"q3\"];\n\nvar checkProcessedData = function checkProcessedData(data) {\n  /* check if the data is pre-processed. start by checking that it has\n  all required quartile attributes. */\n  var hasQuartileAttributes = data.every(function (datum) {\n    return TYPES.every(function (val) {\n      return typeof datum[\"_\".concat(val)] !== \"undefined\";\n    });\n  });\n\n  if (hasQuartileAttributes) {\n    // check that the independent variable is distinct\n    var values = data.map(function (d) {\n      return d._x;\n    });\n\n    if (!_uniq(values).length === values.length) {\n      throw new Error(\"\\n        data prop may only take an array of objects with a unique\\n        independent variable. Make sure your x values are distinct.\\n      \");\n    }\n\n    return true;\n  }\n\n  return false;\n};\n\nvar nanToNull = function nanToNull(val) {\n  return _isNaN(val) ? null : val;\n};\n\nvar getSummaryStatistics = function getSummaryStatistics(data) {\n  var dependentVars = data.map(function (datum) {\n    return datum._y;\n  });\n  var quartiles = {\n    _q1: nanToNull(d3Quantile(dependentVars, 0.25)),\n    // eslint-disable-line no-magic-numbers\n    _q3: nanToNull(d3Quantile(dependentVars, 0.75)),\n    // eslint-disable-line no-magic-numbers\n    _min: nanToNull(d3Min(dependentVars)),\n    _median: nanToNull(d3Quantile(dependentVars, 0.5)),\n    _max: nanToNull(d3Max(dependentVars))\n  };\n  return _assign({}, data[0], quartiles, {\n    _y: data[0]._y\n  });\n};\n\nvar processData = function processData(data) {\n  /* check if the data is coming in a pre-processed form,\n  i.e. { x || y, min, max, q1, q3, median }. if not, process it. */\n  var isProcessed = checkProcessedData(data);\n\n  if (!isProcessed) {\n    // check if the data is coming with x or y values as an array\n    var arrayX = data.every(function (datum) {\n      return Array.isArray(datum._x);\n    });\n    var arrayY = data.every(function (datum) {\n      return Array.isArray(datum._y);\n    });\n    var sortKey = \"_y\";\n    var groupKey = \"_x\";\n\n    if (arrayX) {\n      throw new Error(\"\\n        data should not be given as in array for x\\n      \");\n    } else if (arrayY) {\n      /* generate summary statistics for each datum. to do this, flatten\n      the depedentVarArray and process each datum separately */\n      return data.map(function (datum) {\n        var dataArray = datum[sortKey].map(function (d) {\n          return _assign({}, datum, _defineProperty({}, sortKey, d));\n        });\n\n        var sortedData = _orderBy(dataArray, sortKey);\n\n        return getSummaryStatistics(sortedData);\n      });\n    } else {\n      /* Group data by independent variable and generate summary statistics for each group */\n      var groupedData = _groupBy(data, groupKey);\n\n      return _keys(groupedData).map(function (key) {\n        var datum = groupedData[key];\n\n        var sortedData = _orderBy(datum, sortKey);\n\n        return getSummaryStatistics(sortedData);\n      });\n    }\n  } else {\n    return data;\n  }\n};\n\nvar getData = function getData(props) {\n  var accessorTypes = TYPES.concat(\"x\", \"y\");\n  var formattedData = Data.formatData(props.data, props, accessorTypes);\n  return formattedData.length ? processData(formattedData) : [];\n};\n\nvar reduceDataset = function reduceDataset(dataset, props, axis) {\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var minData = minDomain !== undefined ? minDomain : dataset.reduce(function (memo, datum) {\n    return memo < datum[\"_\".concat(axis)] ? memo : datum[\"_\".concat(axis)];\n  }, Infinity);\n  var maxData = maxDomain !== undefined ? maxDomain : dataset.reduce(function (memo, datum) {\n    return memo > datum[\"_\".concat(axis)] ? memo : datum[\"_\".concat(axis)];\n  }, -Infinity);\n  return Domain.getDomainFromMinMax(minData, maxData);\n};\n\nvar getDomainFromMinMaxValues = function getDomainFromMinMaxValues(dataset, props, axis) {\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var minData = minDomain !== undefined ? minDomain : dataset.reduce(function (memo, datum) {\n    return memo < datum._min ? memo : datum._min;\n  }, Infinity);\n  var maxData = maxDomain !== undefined ? maxDomain : dataset.reduce(function (memo, datum) {\n    return memo > datum._max ? memo : datum._max;\n  }, -Infinity);\n  return Domain.getDomainFromMinMax(minData, maxData);\n};\n\nvar getDomainFromData = function getDomainFromData(props, axis) {\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var dataset = getData(props);\n\n  if (dataset.length < 1) {\n    return minDomain !== undefined && maxDomain !== undefined ? Domain.getDomainFromMinMax(minDomain, maxDomain) : undefined;\n  }\n\n  return axis === \"y\" ? getDomainFromMinMaxValues(dataset, props, axis) : reduceDataset(dataset, props, axis);\n};\n\nvar getDomain = function getDomain(props, axis) {\n  return Domain.createDomainFunction(getDomainFromData)(props, axis);\n};\n\nvar getStyles = function getStyles(props, styleObject) {\n  var style = props.style || {};\n  styleObject = styleObject || {};\n  var parentStyles = {\n    height: \"100%\",\n    width: \"100%\"\n  };\n\n  var labelStyles = _defaults({}, style.labels, styleObject.labels);\n\n  var boxStyles = _defaults({}, style.boxes, styleObject.boxes);\n\n  var whiskerStyles = _defaults({}, style.whiskers, styleObject.whiskers);\n\n  return {\n    boxes: boxStyles,\n    labels: labelStyles,\n    parent: _defaults({}, style.parent, styleObject.parent, parentStyles),\n    max: _defaults({}, style.max, styleObject.max, whiskerStyles),\n    maxLabels: _defaults({}, style.maxLabels, styleObject.maxlabels, labelStyles),\n    median: _defaults({}, style.median, styleObject.median, whiskerStyles),\n    medianLabels: _defaults({}, style.medianLabels, styleObject.medianlabels, labelStyles),\n    min: _defaults({}, style.min, styleObject.min, whiskerStyles),\n    minLabels: _defaults({}, style.minLabels, styleObject.minlabels, labelStyles),\n    q1: _defaults({}, style.q1, styleObject.q1, boxStyles),\n    q1Labels: _defaults({}, style.q1Labels, styleObject.q1labels, labelStyles),\n    q3: _defaults({}, style.q3, styleObject.q3, boxStyles),\n    q3Labels: _defaults({}, style.q3Labels, styleObject.q3labels, labelStyles),\n    whiskers: whiskerStyles\n  };\n};\n\nvar getCalculatedValues = function getCalculatedValues(props) {\n  var theme = props.theme,\n      horizontal = props.horizontal;\n  var data = getData(props);\n  var range = {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  var domain = {\n    x: getDomain(props, \"x\"),\n    y: getDomain(props, \"y\")\n  };\n  var scale = {\n    x: Scale.getBaseScale(props, \"x\").domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: Scale.getBaseScale(props, \"y\").domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var defaultStyles = theme && theme.boxplot && theme.boxplot.style ? theme.boxplot.style : {};\n  var style = getStyles(props, defaultStyles);\n  var defaultOrientation = props.horizontal ? \"top\" : \"right\";\n  var labelOrientation = props.labelOrientation || defaultOrientation;\n  var boxWidth = props.boxWidth || 1;\n  return {\n    data: data,\n    horizontal: horizontal,\n    domain: domain,\n    scale: scale,\n    style: style,\n    labelOrientation: labelOrientation,\n    boxWidth: boxWidth\n  };\n}; // eslint-disable-next-line complexity\n\n\nvar getWhiskerProps = function getWhiskerProps(props, type) {\n  var horizontal = props.horizontal,\n      style = props.style,\n      boxWidth = props.boxWidth,\n      whiskerWidth = props.whiskerWidth,\n      datum = props.datum,\n      scale = props.scale,\n      index = props.index;\n  var _props$positions = props.positions,\n      min = _props$positions.min,\n      max = _props$positions.max,\n      q1 = _props$positions.q1,\n      q3 = _props$positions.q3,\n      x = _props$positions.x,\n      y = _props$positions.y;\n  var boxValue = type === \"min\" ? q1 : q3;\n  var whiskerValue = type === \"min\" ? min : max;\n  var width = typeof whiskerWidth === \"number\" ? whiskerWidth : boxWidth;\n  return {\n    datum: datum,\n    index: index,\n    scale: scale,\n    majorWhisker: {\n      x1: horizontal ? boxValue : x,\n      y1: horizontal ? y : boxValue,\n      x2: horizontal ? whiskerValue : x,\n      y2: horizontal ? y : whiskerValue\n    },\n    minorWhisker: {\n      x1: horizontal ? whiskerValue : x - width / 2,\n      y1: horizontal ? y - width / 2 : whiskerValue,\n      x2: horizontal ? whiskerValue : x + width / 2,\n      y2: horizontal ? y + width / 2 : whiskerValue\n    },\n    style: style[type] || style.whisker\n  };\n};\n\nvar getBoxProps = function getBoxProps(props, type) {\n  var horizontal = props.horizontal,\n      boxWidth = props.boxWidth,\n      style = props.style,\n      scale = props.scale,\n      datum = props.datum,\n      index = props.index;\n  var _props$positions2 = props.positions,\n      median = _props$positions2.median,\n      q1 = _props$positions2.q1,\n      q3 = _props$positions2.q3,\n      x = _props$positions2.x,\n      y = _props$positions2.y;\n  var defaultX = type === \"q1\" ? q1 : median;\n  var defaultY = type === \"q1\" ? median : q3;\n  var defaultWidth = type === \"q1\" ? median - q1 : q3 - median;\n  var defaultHeight = type === \"q1\" ? q1 - median : median - q3;\n  return {\n    datum: datum,\n    scale: scale,\n    index: index,\n    x: horizontal ? defaultX : x - boxWidth / 2,\n    y: horizontal ? y - boxWidth / 2 : defaultY,\n    width: horizontal ? defaultWidth : boxWidth,\n    height: horizontal ? boxWidth : defaultHeight,\n    style: style[type] || style.boxes\n  };\n};\n\nvar getMedianProps = function getMedianProps(props) {\n  var boxWidth = props.boxWidth,\n      horizontal = props.horizontal,\n      style = props.style,\n      datum = props.datum,\n      scale = props.scale,\n      index = props.index;\n  var _props$positions3 = props.positions,\n      median = _props$positions3.median,\n      x = _props$positions3.x,\n      y = _props$positions3.y;\n  return {\n    datum: datum,\n    scale: scale,\n    index: index,\n    x1: horizontal ? median : x - boxWidth / 2,\n    y1: horizontal ? y - boxWidth / 2 : median,\n    x2: horizontal ? median : x + boxWidth / 2,\n    y2: horizontal ? y + boxWidth / 2 : median,\n    style: style.median\n  };\n};\n\nvar getText = function getText(props, type) {\n  var datum = props.datum,\n      index = props.index,\n      labels = props.labels;\n  var propName = \"\".concat(type, \"Labels\");\n  var labelProp = props[propName];\n\n  if (!labelProp && !labels) {\n    return null;\n  } else if (labelProp === true || labels === true) {\n    var dataName = \"_\".concat(type);\n    return \"\".concat(datum[dataName]);\n  }\n\n  return Array.isArray(labelProp) ? labelProp[index] : labelProp;\n};\n\nvar getOrientation = function getOrientation(labelOrientation, type) {\n  return typeof labelOrientation === \"object\" && labelOrientation[type] || labelOrientation;\n};\n\nvar getLabelProps = function getLabelProps(props, text, type) {\n  var datum = props.datum,\n      positions = props.positions,\n      index = props.index,\n      boxWidth = props.boxWidth,\n      horizontal = props.horizontal,\n      labelOrientation = props.labelOrientation,\n      style = props.style;\n  var orientation = getOrientation(labelOrientation, type);\n  var namespace = \"\".concat(type, \"Labels\");\n  var labelStyle = style[namespace] || style.labels;\n  var defaultVerticalAnchors = {\n    top: \"end\",\n    bottom: \"start\",\n    left: \"middle\",\n    right: \"middle\"\n  };\n  var defaultTextAnchors = {\n    left: \"end\",\n    right: \"start\",\n    top: \"middle\",\n    bottom: \"middle\"\n  };\n  var whiskerWidth = typeof props.whiskerWidth === \"number\" ? props.whiskerWidth : boxWidth;\n  var width = type === \"min\" || type === \"max\" ? whiskerWidth : boxWidth;\n\n  var getDefaultPosition = function getDefaultPosition(coord) {\n    var sign = {\n      x: orientation === \"left\" ? -1 : 1,\n      y: orientation === \"top\" ? -1 : 1\n    };\n    return positions[coord] + sign[coord] * width / 2 + sign[coord] * (labelStyle.padding || 0);\n  };\n\n  return {\n    text: text,\n    datum: datum,\n    index: index,\n    orientation: labelOrientation,\n    style: labelStyle,\n    y: horizontal ? getDefaultPosition(\"y\") : positions[type],\n    x: horizontal ? positions[type] : getDefaultPosition(\"x\"),\n    textAnchor: labelStyle.textAnchor || defaultTextAnchors[labelOrientation],\n    verticalAnchor: labelStyle.verticalAnchor || defaultVerticalAnchors[labelOrientation],\n    angle: labelStyle.angle,\n    horizontal: horizontal\n  };\n};\n\nvar getDataProps = function getDataProps(props, type) {\n  if (type === \"median\") {\n    return getMedianProps(props);\n  } else if (type === \"min\" || type === \"max\") {\n    return getWhiskerProps(props, type);\n  }\n\n  return getBoxProps(props, type);\n};\n\nvar getBaseProps = function getBaseProps(props, fallbackProps) {\n  var modifiedProps = Helpers.modifyProps(props, fallbackProps, \"boxplot\");\n  props = _assign({}, modifiedProps, getCalculatedValues(modifiedProps));\n  var _props = props,\n      groupComponent = _props.groupComponent,\n      width = _props.width,\n      height = _props.height,\n      padding = _props.padding,\n      standalone = _props.standalone,\n      theme = _props.theme,\n      events = _props.events,\n      sharedEvents = _props.sharedEvents,\n      scale = _props.scale,\n      horizontal = _props.horizontal,\n      data = _props.data,\n      style = _props.style,\n      domain = _props.domain,\n      name = _props.name;\n  var initialChildProps = {\n    parent: {\n      domain: domain,\n      scale: scale,\n      width: width,\n      height: height,\n      data: data,\n      standalone: standalone,\n      name: name,\n      theme: theme,\n      style: style.parent || {},\n      padding: padding,\n      groupComponent: groupComponent,\n      horizontal: horizontal\n    }\n  };\n  var boxScale = scale.y;\n  return data.reduce(function (acc, datum, index) {\n    var eventKey = !_isNil(datum.eventKey) ? datum.eventKey : index;\n    var positions = {\n      x: horizontal ? scale.y(datum._y) : scale.x(datum._x),\n      y: horizontal ? scale.x(datum._x) : scale.y(datum._y),\n      min: boxScale(datum._min),\n      max: boxScale(datum._max),\n      median: boxScale(datum._median),\n      q1: boxScale(datum._q1),\n      q3: boxScale(datum._q3)\n    };\n\n    var dataProps = _assign({\n      index: index,\n      datum: datum,\n      positions: positions\n    }, props);\n\n    var dataObj = TYPES.reduce(function (memo, type) {\n      memo[type] = getDataProps(dataProps, type);\n      return memo;\n    }, {});\n    acc[eventKey] = dataObj;\n    TYPES.forEach(function (type) {\n      var labelText = getText(dataProps, type);\n      var labelProp = props.labels || props[\"\".concat(type, \"Labels\")];\n\n      if (labelText !== null && labelText !== undefined || labelProp && (events || sharedEvents)) {\n        var target = \"\".concat(type, \"Labels\");\n        acc[eventKey][target] = getLabelProps(dataProps, labelText, type);\n      }\n    });\n    return acc;\n  }, initialChildProps);\n};\n\nexport { getDomain, getData, getBaseProps };","map":{"version":3,"sources":["D:/TraniningGlobits/baitap_level2/client/react/node_modules/victory-box-plot/es/helper-methods.js"],"names":["_isNil","_isNaN","_keys","_groupBy","_uniq","_assign","_defaults","_orderBy","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","Helpers","Scale","Domain","Data","min","d3Min","max","d3Max","quantile","d3Quantile","TYPES","checkProcessedData","data","hasQuartileAttributes","every","datum","val","concat","values","map","d","_x","length","Error","nanToNull","getSummaryStatistics","dependentVars","_y","quartiles","_q1","_q3","_min","_median","_max","processData","isProcessed","arrayX","Array","isArray","arrayY","sortKey","groupKey","dataArray","sortedData","groupedData","getData","props","accessorTypes","formattedData","formatData","reduceDataset","dataset","axis","minDomain","getMinFromProps","maxDomain","getMaxFromProps","minData","undefined","reduce","memo","Infinity","maxData","getDomainFromMinMax","getDomainFromMinMaxValues","getDomainFromData","getDomain","createDomainFunction","getStyles","styleObject","style","parentStyles","height","width","labelStyles","labels","boxStyles","boxes","whiskerStyles","whiskers","parent","maxLabels","maxlabels","median","medianLabels","medianlabels","minLabels","minlabels","q1","q1Labels","q1labels","q3","q3Labels","q3labels","getCalculatedValues","theme","horizontal","range","x","getRange","y","domain","scale","getBaseScale","defaultStyles","boxplot","defaultOrientation","labelOrientation","boxWidth","getWhiskerProps","type","whiskerWidth","index","_props$positions","positions","boxValue","whiskerValue","majorWhisker","x1","y1","x2","y2","minorWhisker","whisker","getBoxProps","_props$positions2","defaultX","defaultY","defaultWidth","defaultHeight","getMedianProps","_props$positions3","getText","propName","labelProp","dataName","getOrientation","getLabelProps","text","orientation","namespace","labelStyle","defaultVerticalAnchors","top","bottom","left","right","defaultTextAnchors","getDefaultPosition","coord","sign","padding","textAnchor","verticalAnchor","angle","getDataProps","getBaseProps","fallbackProps","modifiedProps","modifyProps","_props","groupComponent","standalone","events","sharedEvents","name","initialChildProps","boxScale","acc","eventKey","dataProps","dataObj","forEach","labelText","target"],"mappings":"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","sourcesContent":["import _isNil from \"lodash/isNil\";\nimport _isNaN from \"lodash/isNaN\";\nimport _keys from \"lodash/keys\";\nimport _groupBy from \"lodash/groupBy\";\nimport _uniq from \"lodash/uniq\";\nimport _assign from \"lodash/assign\";\nimport _defaults from \"lodash/defaults\";\nimport _orderBy from \"lodash/orderBy\";\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Helpers, Scale, Domain, Data } from \"victory-core\";\nimport { min as d3Min, max as d3Max, quantile as d3Quantile } from \"d3-array\";\nvar TYPES = [\"max\", \"min\", \"median\", \"q1\", \"q3\"];\n\nvar checkProcessedData = function (data) {\n  /* check if the data is pre-processed. start by checking that it has\n  all required quartile attributes. */\n  var hasQuartileAttributes = data.every(function (datum) {\n    return TYPES.every(function (val) {\n      return typeof datum[\"_\".concat(val)] !== \"undefined\";\n    });\n  });\n\n  if (hasQuartileAttributes) {\n    // check that the independent variable is distinct\n    var values = data.map(function (d) {\n      return d._x;\n    });\n\n    if (!_uniq(values).length === values.length) {\n      throw new Error(\"\\n        data prop may only take an array of objects with a unique\\n        independent variable. Make sure your x values are distinct.\\n      \");\n    }\n\n    return true;\n  }\n\n  return false;\n};\n\nvar nanToNull = function (val) {\n  return _isNaN(val) ? null : val;\n};\n\nvar getSummaryStatistics = function (data) {\n  var dependentVars = data.map(function (datum) {\n    return datum._y;\n  });\n  var quartiles = {\n    _q1: nanToNull(d3Quantile(dependentVars, 0.25)),\n    // eslint-disable-line no-magic-numbers\n    _q3: nanToNull(d3Quantile(dependentVars, 0.75)),\n    // eslint-disable-line no-magic-numbers\n    _min: nanToNull(d3Min(dependentVars)),\n    _median: nanToNull(d3Quantile(dependentVars, 0.5)),\n    _max: nanToNull(d3Max(dependentVars))\n  };\n  return _assign({}, data[0], quartiles, {\n    _y: data[0]._y\n  });\n};\n\nvar processData = function (data) {\n  /* check if the data is coming in a pre-processed form,\n  i.e. { x || y, min, max, q1, q3, median }. if not, process it. */\n  var isProcessed = checkProcessedData(data);\n\n  if (!isProcessed) {\n    // check if the data is coming with x or y values as an array\n    var arrayX = data.every(function (datum) {\n      return Array.isArray(datum._x);\n    });\n    var arrayY = data.every(function (datum) {\n      return Array.isArray(datum._y);\n    });\n    var sortKey = \"_y\";\n    var groupKey = \"_x\";\n\n    if (arrayX) {\n      throw new Error(\"\\n        data should not be given as in array for x\\n      \");\n    } else if (arrayY) {\n      /* generate summary statistics for each datum. to do this, flatten\n      the depedentVarArray and process each datum separately */\n      return data.map(function (datum) {\n        var dataArray = datum[sortKey].map(function (d) {\n          return _assign({}, datum, _defineProperty({}, sortKey, d));\n        });\n\n        var sortedData = _orderBy(dataArray, sortKey);\n\n        return getSummaryStatistics(sortedData);\n      });\n    } else {\n      /* Group data by independent variable and generate summary statistics for each group */\n      var groupedData = _groupBy(data, groupKey);\n\n      return _keys(groupedData).map(function (key) {\n        var datum = groupedData[key];\n\n        var sortedData = _orderBy(datum, sortKey);\n\n        return getSummaryStatistics(sortedData);\n      });\n    }\n  } else {\n    return data;\n  }\n};\n\nvar getData = function (props) {\n  var accessorTypes = TYPES.concat(\"x\", \"y\");\n  var formattedData = Data.formatData(props.data, props, accessorTypes);\n  return formattedData.length ? processData(formattedData) : [];\n};\n\nvar reduceDataset = function (dataset, props, axis) {\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var minData = minDomain !== undefined ? minDomain : dataset.reduce(function (memo, datum) {\n    return memo < datum[\"_\".concat(axis)] ? memo : datum[\"_\".concat(axis)];\n  }, Infinity);\n  var maxData = maxDomain !== undefined ? maxDomain : dataset.reduce(function (memo, datum) {\n    return memo > datum[\"_\".concat(axis)] ? memo : datum[\"_\".concat(axis)];\n  }, -Infinity);\n  return Domain.getDomainFromMinMax(minData, maxData);\n};\n\nvar getDomainFromMinMaxValues = function (dataset, props, axis) {\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var minData = minDomain !== undefined ? minDomain : dataset.reduce(function (memo, datum) {\n    return memo < datum._min ? memo : datum._min;\n  }, Infinity);\n  var maxData = maxDomain !== undefined ? maxDomain : dataset.reduce(function (memo, datum) {\n    return memo > datum._max ? memo : datum._max;\n  }, -Infinity);\n  return Domain.getDomainFromMinMax(minData, maxData);\n};\n\nvar getDomainFromData = function (props, axis) {\n  var minDomain = Domain.getMinFromProps(props, axis);\n  var maxDomain = Domain.getMaxFromProps(props, axis);\n  var dataset = getData(props);\n\n  if (dataset.length < 1) {\n    return minDomain !== undefined && maxDomain !== undefined ? Domain.getDomainFromMinMax(minDomain, maxDomain) : undefined;\n  }\n\n  return axis === \"y\" ? getDomainFromMinMaxValues(dataset, props, axis) : reduceDataset(dataset, props, axis);\n};\n\nvar getDomain = function (props, axis) {\n  return Domain.createDomainFunction(getDomainFromData)(props, axis);\n};\n\nvar getStyles = function (props, styleObject) {\n  var style = props.style || {};\n  styleObject = styleObject || {};\n  var parentStyles = {\n    height: \"100%\",\n    width: \"100%\"\n  };\n\n  var labelStyles = _defaults({}, style.labels, styleObject.labels);\n\n  var boxStyles = _defaults({}, style.boxes, styleObject.boxes);\n\n  var whiskerStyles = _defaults({}, style.whiskers, styleObject.whiskers);\n\n  return {\n    boxes: boxStyles,\n    labels: labelStyles,\n    parent: _defaults({}, style.parent, styleObject.parent, parentStyles),\n    max: _defaults({}, style.max, styleObject.max, whiskerStyles),\n    maxLabels: _defaults({}, style.maxLabels, styleObject.maxlabels, labelStyles),\n    median: _defaults({}, style.median, styleObject.median, whiskerStyles),\n    medianLabels: _defaults({}, style.medianLabels, styleObject.medianlabels, labelStyles),\n    min: _defaults({}, style.min, styleObject.min, whiskerStyles),\n    minLabels: _defaults({}, style.minLabels, styleObject.minlabels, labelStyles),\n    q1: _defaults({}, style.q1, styleObject.q1, boxStyles),\n    q1Labels: _defaults({}, style.q1Labels, styleObject.q1labels, labelStyles),\n    q3: _defaults({}, style.q3, styleObject.q3, boxStyles),\n    q3Labels: _defaults({}, style.q3Labels, styleObject.q3labels, labelStyles),\n    whiskers: whiskerStyles\n  };\n};\n\nvar getCalculatedValues = function (props) {\n  var theme = props.theme,\n      horizontal = props.horizontal;\n  var data = getData(props);\n  var range = {\n    x: Helpers.getRange(props, \"x\"),\n    y: Helpers.getRange(props, \"y\")\n  };\n  var domain = {\n    x: getDomain(props, \"x\"),\n    y: getDomain(props, \"y\")\n  };\n  var scale = {\n    x: Scale.getBaseScale(props, \"x\").domain(domain.x).range(props.horizontal ? range.y : range.x),\n    y: Scale.getBaseScale(props, \"y\").domain(domain.y).range(props.horizontal ? range.x : range.y)\n  };\n  var defaultStyles = theme && theme.boxplot && theme.boxplot.style ? theme.boxplot.style : {};\n  var style = getStyles(props, defaultStyles);\n  var defaultOrientation = props.horizontal ? \"top\" : \"right\";\n  var labelOrientation = props.labelOrientation || defaultOrientation;\n  var boxWidth = props.boxWidth || 1;\n  return {\n    data: data,\n    horizontal: horizontal,\n    domain: domain,\n    scale: scale,\n    style: style,\n    labelOrientation: labelOrientation,\n    boxWidth: boxWidth\n  };\n}; // eslint-disable-next-line complexity\n\n\nvar getWhiskerProps = function (props, type) {\n  var horizontal = props.horizontal,\n      style = props.style,\n      boxWidth = props.boxWidth,\n      whiskerWidth = props.whiskerWidth,\n      datum = props.datum,\n      scale = props.scale,\n      index = props.index;\n  var _props$positions = props.positions,\n      min = _props$positions.min,\n      max = _props$positions.max,\n      q1 = _props$positions.q1,\n      q3 = _props$positions.q3,\n      x = _props$positions.x,\n      y = _props$positions.y;\n  var boxValue = type === \"min\" ? q1 : q3;\n  var whiskerValue = type === \"min\" ? min : max;\n  var width = typeof whiskerWidth === \"number\" ? whiskerWidth : boxWidth;\n  return {\n    datum: datum,\n    index: index,\n    scale: scale,\n    majorWhisker: {\n      x1: horizontal ? boxValue : x,\n      y1: horizontal ? y : boxValue,\n      x2: horizontal ? whiskerValue : x,\n      y2: horizontal ? y : whiskerValue\n    },\n    minorWhisker: {\n      x1: horizontal ? whiskerValue : x - width / 2,\n      y1: horizontal ? y - width / 2 : whiskerValue,\n      x2: horizontal ? whiskerValue : x + width / 2,\n      y2: horizontal ? y + width / 2 : whiskerValue\n    },\n    style: style[type] || style.whisker\n  };\n};\n\nvar getBoxProps = function (props, type) {\n  var horizontal = props.horizontal,\n      boxWidth = props.boxWidth,\n      style = props.style,\n      scale = props.scale,\n      datum = props.datum,\n      index = props.index;\n  var _props$positions2 = props.positions,\n      median = _props$positions2.median,\n      q1 = _props$positions2.q1,\n      q3 = _props$positions2.q3,\n      x = _props$positions2.x,\n      y = _props$positions2.y;\n  var defaultX = type === \"q1\" ? q1 : median;\n  var defaultY = type === \"q1\" ? median : q3;\n  var defaultWidth = type === \"q1\" ? median - q1 : q3 - median;\n  var defaultHeight = type === \"q1\" ? q1 - median : median - q3;\n  return {\n    datum: datum,\n    scale: scale,\n    index: index,\n    x: horizontal ? defaultX : x - boxWidth / 2,\n    y: horizontal ? y - boxWidth / 2 : defaultY,\n    width: horizontal ? defaultWidth : boxWidth,\n    height: horizontal ? boxWidth : defaultHeight,\n    style: style[type] || style.boxes\n  };\n};\n\nvar getMedianProps = function (props) {\n  var boxWidth = props.boxWidth,\n      horizontal = props.horizontal,\n      style = props.style,\n      datum = props.datum,\n      scale = props.scale,\n      index = props.index;\n  var _props$positions3 = props.positions,\n      median = _props$positions3.median,\n      x = _props$positions3.x,\n      y = _props$positions3.y;\n  return {\n    datum: datum,\n    scale: scale,\n    index: index,\n    x1: horizontal ? median : x - boxWidth / 2,\n    y1: horizontal ? y - boxWidth / 2 : median,\n    x2: horizontal ? median : x + boxWidth / 2,\n    y2: horizontal ? y + boxWidth / 2 : median,\n    style: style.median\n  };\n};\n\nvar getText = function (props, type) {\n  var datum = props.datum,\n      index = props.index,\n      labels = props.labels;\n  var propName = \"\".concat(type, \"Labels\");\n  var labelProp = props[propName];\n\n  if (!labelProp && !labels) {\n    return null;\n  } else if (labelProp === true || labels === true) {\n    var dataName = \"_\".concat(type);\n    return \"\".concat(datum[dataName]);\n  }\n\n  return Array.isArray(labelProp) ? labelProp[index] : labelProp;\n};\n\nvar getOrientation = function (labelOrientation, type) {\n  return typeof labelOrientation === \"object\" && labelOrientation[type] || labelOrientation;\n};\n\nvar getLabelProps = function (props, text, type) {\n  var datum = props.datum,\n      positions = props.positions,\n      index = props.index,\n      boxWidth = props.boxWidth,\n      horizontal = props.horizontal,\n      labelOrientation = props.labelOrientation,\n      style = props.style;\n  var orientation = getOrientation(labelOrientation, type);\n  var namespace = \"\".concat(type, \"Labels\");\n  var labelStyle = style[namespace] || style.labels;\n  var defaultVerticalAnchors = {\n    top: \"end\",\n    bottom: \"start\",\n    left: \"middle\",\n    right: \"middle\"\n  };\n  var defaultTextAnchors = {\n    left: \"end\",\n    right: \"start\",\n    top: \"middle\",\n    bottom: \"middle\"\n  };\n  var whiskerWidth = typeof props.whiskerWidth === \"number\" ? props.whiskerWidth : boxWidth;\n  var width = type === \"min\" || type === \"max\" ? whiskerWidth : boxWidth;\n\n  var getDefaultPosition = function (coord) {\n    var sign = {\n      x: orientation === \"left\" ? -1 : 1,\n      y: orientation === \"top\" ? -1 : 1\n    };\n    return positions[coord] + sign[coord] * width / 2 + sign[coord] * (labelStyle.padding || 0);\n  };\n\n  return {\n    text: text,\n    datum: datum,\n    index: index,\n    orientation: labelOrientation,\n    style: labelStyle,\n    y: horizontal ? getDefaultPosition(\"y\") : positions[type],\n    x: horizontal ? positions[type] : getDefaultPosition(\"x\"),\n    textAnchor: labelStyle.textAnchor || defaultTextAnchors[labelOrientation],\n    verticalAnchor: labelStyle.verticalAnchor || defaultVerticalAnchors[labelOrientation],\n    angle: labelStyle.angle,\n    horizontal: horizontal\n  };\n};\n\nvar getDataProps = function (props, type) {\n  if (type === \"median\") {\n    return getMedianProps(props);\n  } else if (type === \"min\" || type === \"max\") {\n    return getWhiskerProps(props, type);\n  }\n\n  return getBoxProps(props, type);\n};\n\nvar getBaseProps = function (props, fallbackProps) {\n  var modifiedProps = Helpers.modifyProps(props, fallbackProps, \"boxplot\");\n  props = _assign({}, modifiedProps, getCalculatedValues(modifiedProps));\n  var _props = props,\n      groupComponent = _props.groupComponent,\n      width = _props.width,\n      height = _props.height,\n      padding = _props.padding,\n      standalone = _props.standalone,\n      theme = _props.theme,\n      events = _props.events,\n      sharedEvents = _props.sharedEvents,\n      scale = _props.scale,\n      horizontal = _props.horizontal,\n      data = _props.data,\n      style = _props.style,\n      domain = _props.domain,\n      name = _props.name;\n  var initialChildProps = {\n    parent: {\n      domain: domain,\n      scale: scale,\n      width: width,\n      height: height,\n      data: data,\n      standalone: standalone,\n      name: name,\n      theme: theme,\n      style: style.parent || {},\n      padding: padding,\n      groupComponent: groupComponent,\n      horizontal: horizontal\n    }\n  };\n  var boxScale = scale.y;\n  return data.reduce(function (acc, datum, index) {\n    var eventKey = !_isNil(datum.eventKey) ? datum.eventKey : index;\n    var positions = {\n      x: horizontal ? scale.y(datum._y) : scale.x(datum._x),\n      y: horizontal ? scale.x(datum._x) : scale.y(datum._y),\n      min: boxScale(datum._min),\n      max: boxScale(datum._max),\n      median: boxScale(datum._median),\n      q1: boxScale(datum._q1),\n      q3: boxScale(datum._q3)\n    };\n\n    var dataProps = _assign({\n      index: index,\n      datum: datum,\n      positions: positions\n    }, props);\n\n    var dataObj = TYPES.reduce(function (memo, type) {\n      memo[type] = getDataProps(dataProps, type);\n      return memo;\n    }, {});\n    acc[eventKey] = dataObj;\n    TYPES.forEach(function (type) {\n      var labelText = getText(dataProps, type);\n      var labelProp = props.labels || props[\"\".concat(type, \"Labels\")];\n\n      if (labelText !== null && labelText !== undefined || labelProp && (events || sharedEvents)) {\n        var target = \"\".concat(type, \"Labels\");\n        acc[eventKey][target] = getLabelProps(dataProps, labelText, type);\n      }\n    });\n    return acc;\n  }, initialChildProps);\n};\n\nexport { getDomain, getData, getBaseProps };"]},"metadata":{},"sourceType":"module"}