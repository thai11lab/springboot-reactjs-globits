{"ast":null,"code":"var _jsxFileName = \"D:\\\\TraniningGlobits\\\\baitap_level2\\\\client\\\\react\\\\src\\\\app\\\\views\\\\Employee\\\\EmployeeTable.jsx\";\nimport React, { Component } from \"react\";\nimport { IconButton, Table, TableHead, TableBody, TableRow, TableCell, Icon, TablePagination, Button, Card, TextField, InputAdornment, Grid } from \"@material-ui/core\";\nimport { getAllEmployees, deleteUser, getAllEmployeesBySearch } from \"./EmployeeService\";\nimport MemberEditorDialog from \"./MemberEditorDialog\";\nimport { Breadcrumb, ConfirmationDialog } from \"egret\";\nimport shortid from \"shortid\";\n\nclass EmployeeTable extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rowsPerPage: 10,\n      page: 0,\n      userList: [],\n      shouldOpenEditorDialog: false,\n      shouldOpenConfirmationDialog: false,\n      title: \"\"\n    };\n\n    this.setPage = page => {\n      this.setState({\n        page\n      });\n    };\n\n    this.setRowsPerPage = event => {\n      this.setState({\n        rowsPerPage: event.target.value\n      });\n    };\n\n    this.handleChangePage = (event, newPage) => {\n      this.setPage(newPage);\n    };\n\n    this.handleDialogClose = () => {\n      this.setState({\n        shouldOpenEditorDialog: false,\n        shouldOpenConfirmationDialog: false\n      });\n      this.updatePageData();\n    };\n\n    this.handleDeleteUser = user => {\n      this.setState({\n        user,\n        shouldOpenConfirmationDialog: true\n      });\n    };\n\n    this.handleConfirmationResponse = () => {\n      deleteUser(this.state.user).then(() => {\n        this.handleDialogClose();\n      });\n    };\n\n    this.updatePageData = () => {\n      getAllEmployees().then(({\n        data\n      }) => this.setState({\n        userList: [...data]\n      }));\n    };\n\n    this.handleSubmit = query => {\n      getAllEmployeesBySearch(query).then(({\n        data\n      }) => this.setState({\n        userList: [...data]\n      }));\n    };\n  }\n\n  componentDidMount() {\n    this.updatePageData();\n  }\n\n  handleChange(event) {\n    this.setState({\n      title: event.target.value\n    });\n  }\n\n  render() {\n    let _this$state = this.state,\n        rowsPerPage = _this$state.rowsPerPage,\n        page = _this$state.page,\n        userList = _this$state.userList,\n        shouldOpenConfirmationDialog = _this$state.shouldOpenConfirmationDialog,\n        shouldOpenEditorDialog = _this$state.shouldOpenEditorDialog,\n        title = _this$state.title;\n    const styleSearchGrid = {\n      display: \"flex\"\n    };\n    const styleButton = {\n      height: \"40px\"\n    };\n    const styleText = {\n      height: \"40px\",\n      width: \"90px\",\n      marginLeft: \"10px\",\n      marginTop: \"3px\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"m-sm-30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-sm-30\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Breadcrumb, {\n      routeSegments: [{\n        name: \"Employee Table\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      className: \"mb-16\",\n      container: true,\n      spacing: 2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      sm: 6,\n      xs: 12,\n      style: styleSearchGrid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: styleButton,\n      className: \"mb-16\",\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: () => this.setState({\n        shouldOpenEditorDialog: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, \"Th\\xEAm Nh\\xE2n Vi\\xEAn\"), /*#__PURE__*/React.createElement(TextField, {\n      style: styleText,\n      className: \"bg-paper flex-grow-1 mr-16\",\n      margin: \"none\",\n      name: \"query\",\n      placeholder: \"Search here...\",\n      value: this.state.title,\n      onChange: this.handleChange(e),\n      inputProps: {\n        style: {\n          padding: \"10px\"\n        }\n      },\n      fullWidth: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      style: styleButton,\n      className: \"mb-16\",\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.handleSubmit({\n        title\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, \"T\\xECm ki\\u1EBFm\"), /*#__PURE__*/React.createElement(Button, {\n      style: styleButton,\n      className: \"mb-16\",\n      variant: \"contained\",\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    }, \"T\\u1EA3i xu\\u1ED1ng Excell\"))), /*#__PURE__*/React.createElement(Card, {\n      className: \"w-100 overflow-auto\",\n      elevation: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      className: \"crud-table\",\n      style: {\n        whiteSpace: \"pre\",\n        minWidth: \"750px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }\n    }, \"STT\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, \"M\\xE3 nh\\xE2n vi\\xEAn\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }\n    }, \"H\\u1ECD T\\xEAn\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }, \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }, \"Tu\\u1ED5i\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }\n    }, \"H\\xE0nh \\u0111\\u1ED9ng\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 13\n      }\n    }, userList.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((user, index) => /*#__PURE__*/React.createElement(TableRow, {\n      key: shortid.generate(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0\",\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }\n    }, user.stt), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 21\n      }\n    }, user.code), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0\",\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 21\n      }\n    }, user.name), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0\",\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 21\n      }\n    }, user.email), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0\",\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, user.phone), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0\",\n      align: \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 21\n      }\n    }, user.age), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0 border-none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      onClick: () => this.setState({\n        uid: user.id,\n        shouldOpenEditorDialog: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 25\n      }\n    }, \"edit\")), /*#__PURE__*/React.createElement(IconButton, {\n      onClick: () => this.handleDeleteUser(user),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      color: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 25\n      }\n    }, \"delete\"))))))), /*#__PURE__*/React.createElement(TablePagination, {\n      className: \"px-16\",\n      rowsPerPageOptions: [5, 10, 25],\n      component: \"div\",\n      count: userList.length,\n      rowsPerPage: rowsPerPage,\n      page: page,\n      backIconButtonProps: {\n        \"aria-label\": \"Previous Page\"\n      },\n      nextIconButtonProps: {\n        \"aria-label\": \"Next Page\"\n      },\n      onChangePage: this.handleChangePage,\n      onChangeRowsPerPage: this.setRowsPerPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }\n    }), shouldOpenEditorDialog && /*#__PURE__*/React.createElement(MemberEditorDialog, {\n      handleClose: this.handleDialogClose,\n      open: shouldOpenEditorDialog,\n      uid: this.state.uid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 13\n      }\n    }), shouldOpenConfirmationDialog && /*#__PURE__*/React.createElement(ConfirmationDialog, {\n      open: shouldOpenConfirmationDialog,\n      onConfirmDialogClose: this.handleDialogClose,\n      onYesClick: this.handleConfirmationResponse,\n      text: \"B\\u1EA1n c\\xF3 mu\\u1ED1n x\\xF3a nh\\xE2n vi\\xEAn n\\xE0y?\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nexport default EmployeeTable;","map":{"version":3,"sources":["D:/TraniningGlobits/baitap_level2/client/react/src/app/views/Employee/EmployeeTable.jsx"],"names":["React","Component","IconButton","Table","TableHead","TableBody","TableRow","TableCell","Icon","TablePagination","Button","Card","TextField","InputAdornment","Grid","getAllEmployees","deleteUser","getAllEmployeesBySearch","MemberEditorDialog","Breadcrumb","ConfirmationDialog","shortid","EmployeeTable","state","rowsPerPage","page","userList","shouldOpenEditorDialog","shouldOpenConfirmationDialog","title","setPage","setState","setRowsPerPage","event","target","value","handleChangePage","newPage","handleDialogClose","updatePageData","handleDeleteUser","user","handleConfirmationResponse","then","data","handleSubmit","query","componentDidMount","handleChange","render","styleSearchGrid","display","styleButton","height","styleText","width","marginLeft","marginTop","name","e","style","padding","whiteSpace","minWidth","slice","map","index","generate","stt","code","email","phone","age","uid","id","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  IconButton,\n  Table,\n  TableHead,\n  TableBody,\n  TableRow,\n  TableCell,\n  Icon,\n  TablePagination,\n  Button,\n  Card,\n  TextField,\n  InputAdornment,\n  Grid,\n} from \"@material-ui/core\";\n\nimport { getAllEmployees, deleteUser,getAllEmployeesBySearch } from \"./EmployeeService\";\nimport MemberEditorDialog from \"./MemberEditorDialog\";\nimport { Breadcrumb, ConfirmationDialog } from \"egret\";\nimport shortid from \"shortid\";\n\nclass EmployeeTable extends Component {\n  state = {\n    rowsPerPage: 10,\n    page: 0,\n    userList: [],\n    shouldOpenEditorDialog: false,\n    shouldOpenConfirmationDialog: false,\n    title:\"\"\n  };\n\n  setPage = page => {\n    this.setState({ page });\n  };\n\n  setRowsPerPage = event => {\n    this.setState({ rowsPerPage: event.target.value });\n  };\n\n  handleChangePage = (event, newPage) => {\n    this.setPage(newPage);\n  };\n\n  handleDialogClose = () => {\n    this.setState({\n      shouldOpenEditorDialog: false,\n      shouldOpenConfirmationDialog: false\n    });\n    this.updatePageData();\n  };\n\n  handleDeleteUser = user => {\n    this.setState({\n      user,\n      shouldOpenConfirmationDialog: true\n    });\n  };\n\n  handleConfirmationResponse = () => {\n    deleteUser(this.state.user).then(() => {\n      this.handleDialogClose();\n    });\n  };\n\n  componentDidMount() {\n    this.updatePageData();\n  }\n\n  updatePageData = () => {\n    getAllEmployees().then(({ data }) => this.setState({ userList: [...data] }));\n  };\n  \n  handleSubmit=(query)=>{\n    getAllEmployeesBySearch(query).then(({ data }) => this.setState({ userList: [...data] }));\n  }\n\n  handleChange(event){\n    this.setState({title: event.target.value});\n  }\n  \n  render() {\n    let {\n      rowsPerPage,\n      page,\n      userList,\n      shouldOpenConfirmationDialog,\n      shouldOpenEditorDialog,\n      title\n    } = this.state;\n\n    \n    const styleSearchGrid ={\n      display:\"flex\"\n    };\n\n    const styleButton={\n      height:\"40px\", \n\n    };\n    const styleText={\n      height:\"40px\", \n      width:\"90px\" ,\n      marginLeft:\"10px\",\n      marginTop:\"3px\"    \n    };\n\n    \n\n    return (\n      <div className=\"m-sm-30\">\n        <div  className=\"mb-sm-30\">\n          <Breadcrumb routeSegments={[{ name: \"Employee Table\" }]} />\n        </div>\n\n        <Grid className=\"mb-16\" container spacing={2}>\n          <Grid item sm={6} xs={12} style={styleSearchGrid} >\n            <Button\n              style={styleButton}\n              className=\"mb-16\"\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => this.setState({ shouldOpenEditorDialog: true })}\n            >\n              Thêm Nhân Viên\n            </Button>\n                <TextField\n                    style={styleText}\n                    className=\"bg-paper flex-grow-1 mr-16\"\n                    margin=\"none\"\n                    name=\"query\"\n                    placeholder=\"Search here...\"\n                    value={this.state.title}\n                    onChange={this.handleChange(e)}\n                   \n                    inputProps={{\n                      style: {\n                        padding: \"10px\"\n                      }\n                    }}\n                    fullWidth\n                ></TextField>\n                <Button\n                  style={styleButton}\n                  className=\"mb-16\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={this.handleSubmit({title})}\n                >\n                  Tìm kiếm\n                </Button>\n            <Button\n                  style={styleButton}\n                  className=\"mb-16\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                >\n                  Tải xuống Excell\n            </Button>\n          </Grid>\n        </Grid>\n\n        <Card className=\"w-100 overflow-auto\" elevation={6}>\n          <Table className=\"crud-table\" style={{ whiteSpace: \"pre\", minWidth: \"750px\" }}>\n            <TableHead>\n              <TableRow>\n                <TableCell>STT</TableCell>\n                <TableCell>Mã nhân viên</TableCell>\n                <TableCell>Họ Tên</TableCell>\n                <TableCell>Email</TableCell>\n                <TableCell>Số điện thoại</TableCell>\n                <TableCell>Tuổi</TableCell>\n                <TableCell>Hành động</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {userList\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map((user, index) => (\n                  <TableRow key={shortid.generate()}>\n                    <TableCell className=\"px-0\" align=\"left\">\n                      {user.stt}\n                    </TableCell>\n                    <TableCell className=\"px-0\">{user.code}</TableCell>\n                    <TableCell className=\"px-0\" align=\"left\">\n                      {user.name}\n                    </TableCell>\n                    \n                    <TableCell className=\"px-0\" align=\"left\">\n                      {user.email}\n                    </TableCell>\n                    <TableCell className=\"px-0\" align=\"left\">\n                      {user.phone}\n                    </TableCell>\n                    <TableCell className=\"px-0\" align=\"left\">\n                      {user.age}\n                    </TableCell>\n                    <TableCell className=\"px-0 border-none\">\n                      <IconButton\n                        onClick={() =>\n                          this.setState({\n                            uid: user.id,\n                            shouldOpenEditorDialog: true\n                          })\n                        }\n                      >\n                        <Icon color=\"primary\">edit</Icon>\n                      </IconButton>\n                      <IconButton onClick={() => this.handleDeleteUser(user)}>\n                        <Icon color=\"error\">delete</Icon>\n                      </IconButton>\n                    </TableCell>\n                  </TableRow>\n                ))}\n            </TableBody>\n          </Table>\n\n          <TablePagination\n            className=\"px-16\"\n            rowsPerPageOptions={[5, 10, 25]}\n            component=\"div\"\n            count={userList.length}\n            rowsPerPage={rowsPerPage}\n            page={page}\n            backIconButtonProps={{\n              \"aria-label\": \"Previous Page\"\n            }}\n            nextIconButtonProps={{\n              \"aria-label\": \"Next Page\"\n            }}\n            onChangePage={this.handleChangePage}\n            onChangeRowsPerPage={this.setRowsPerPage}\n          />\n\n          {shouldOpenEditorDialog && (\n            <MemberEditorDialog\n              handleClose={this.handleDialogClose}\n              open={shouldOpenEditorDialog}\n              uid={this.state.uid}\n            />\n          )}\n          {shouldOpenConfirmationDialog && (\n            <ConfirmationDialog\n              open={shouldOpenConfirmationDialog}\n              onConfirmDialogClose={this.handleDialogClose}\n              onYesClick={this.handleConfirmationResponse}\n              text=\"Bạn có muốn xóa nhân viên này?\"\n            />\n          )}\n        </Card>\n        \n      </div>\n    );\n  }\n}\n\nexport default EmployeeTable;\n"]},"metadata":{},"sourceType":"module"}