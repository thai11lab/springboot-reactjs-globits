{"ast":null,"code":"import _objectSpread from \"D:\\\\TraniningGlobits\\\\baitap_level2\\\\client\\\\react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"D:\\\\TraniningGlobits\\\\baitap_level2\\\\client\\\\react\\\\src\\\\app\\\\views\\\\invoice\\\\InvoiceEditor.jsx\";\nimport React, { Component } from \"react\";\nimport { Button, Radio, FormControl, FormControlLabel, Divider, RadioGroup, Grid, Table, TableHead, TableRow, TableCell, TableBody } from \"@material-ui/core\";\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { getInvoiceById, addInvoice, updateInvoice } from \"./InvoiceService\";\nimport { withRouter } from \"react-router-dom\";\n\nclass InvoiceEditor extends Component {\n  constructor(...args) {\n    super(...args);\n    this.subTotalCost = 0;\n    this.state = {\n      id: \"\",\n      orderNo: \"\",\n      buyer: {\n        name: \"\",\n        address: \"\"\n      },\n      seller: {\n        name: \"\",\n        address: \"\"\n      },\n      item: [],\n      status: \"\",\n      vat: \"\",\n      date: new Date(),\n      currency: \"\",\n      loading: false\n    };\n\n    this.generateRandomId = () => {\n      let tempId = Math.random().toString();\n      let id = tempId.substr(2, tempId.length - 1);\n      this.setState({\n        id\n      });\n    };\n\n    this.handleChange = event => {\n      event.persist();\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSellerBuyerChange = (event, fieldName) => {\n      event.persist();\n      this.setState({\n        [fieldName]: _objectSpread(_objectSpread({}, this.state[fieldName]), {}, {\n          [event.target.name]: event.target.value\n        })\n      });\n    };\n\n    this.handleIvoiceListChange = (event, index) => {\n      let tempItemList = [...this.state.item];\n      tempItemList.map((element, i) => {\n        if (index === i) element[event.target.name] = event.target.value;\n        return element;\n      });\n      this.setState({\n        item: tempItemList\n      });\n    };\n\n    this.addItemToInvoiceList = () => {\n      let tempItemList = [...this.state.item];\n      tempItemList.push({\n        name: \"\",\n        unit: \"\",\n        price: \"\"\n      });\n      this.setState({\n        item: tempItemList\n      });\n    };\n\n    this.deleteItemFromInvoiceList = index => {\n      let tempItemList = [...this.state.item];\n      tempItemList.splice(index, 1);\n      this.setState({\n        item: tempItemList\n      });\n    };\n\n    this.handleDateChange = date => {\n      this.setState({\n        date\n      });\n    };\n\n    this.handleSubmit = () => {\n      this.setState({\n        loading: true\n      });\n      let tempState = this.state;\n      delete tempState.loading;\n      if (this.props.isNewInvoice) addInvoice(tempState).then(() => {\n        this.setState({\n          loading: false\n        });\n        this.props.history.push(\"/invoice/\".concat(this.state.id));\n        this.props.toggleInvoiceEditor();\n      });else updateInvoice(tempState).then(() => {\n        this.setState({\n          loading: false\n        });\n        this.props.toggleInvoiceEditor();\n      });\n    };\n  }\n\n  componentDidMount() {\n    if (!this.props.isNewInvoice) getInvoiceById(this.props.match.params.id).then(res => {\n      this.setState(_objectSpread({}, res.data));\n    });else {\n      this.generateRandomId();\n    }\n  }\n\n  render() {\n    this.subTotalCost = 0;\n    let _this$state = this.state,\n        orderNo = _this$state.orderNo,\n        buyer = _this$state.buyer,\n        seller = _this$state.seller,\n        _this$state$item = _this$state.item,\n        invoiceItemList = _this$state$item === void 0 ? [] : _this$state$item,\n        status = _this$state.status,\n        vat = _this$state.vat,\n        date = _this$state.date,\n        currency = _this$state.currency,\n        loading = _this$state.loading;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"invoice-viewer py-16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(ValidatorForm, {\n      ref: \"form\",\n      onSubmit: this.handleSubmit,\n      onError: errors => this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"viewer_actions px-16 flex flex-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-24\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      className: \"mr-16 py-8\",\n      variant: \"text\",\n      onClick: () => this.props.toggleInvoiceEditor(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 15\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      className: \"py-8\",\n      variant: \"contained\",\n      color: \"primary\",\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 15\n      }\n    }, \"Save\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"viewer__order-info px-16 mb-16 flex flex-space-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"mb-8\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 15\n      }\n    }, \"Order Info\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mb-16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 15\n      }\n    }, \"Order Number\"), /*#__PURE__*/React.createElement(TextValidator, {\n      label: \"Order No.\",\n      onChange: this.handleChange,\n      type: \"text\",\n      fullWidth: true,\n      name: \"orderNo\",\n      value: orderNo,\n      validators: [\"required\"],\n      errorMessages: [\"this field is required\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormControl, {\n      component: \"fieldset\",\n      className: \"w-100 mb-16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(RadioGroup, {\n      \"aria-label\": \"status\",\n      name: \"status\",\n      value: status,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormControlLabel, {\n      className: \"h-32\",\n      value: \"pending\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        color: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 30\n        }\n      }),\n      label: \"Pending\",\n      labelPlacement: \"start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(FormControlLabel, {\n      className: \"h-32\",\n      value: \"processing\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        color: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 30\n        }\n      }),\n      label: \"Processing\",\n      labelPlacement: \"start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(FormControlLabel, {\n      className: \"h-32\",\n      value: \"delivered\",\n      control: /*#__PURE__*/React.createElement(Radio, {\n        color: \"secondary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 30\n        }\n      }),\n      label: \"Delivered\",\n      labelPlacement: \"start\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-align-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 19\n      }\n    }, \"Order date: \"))), /*#__PURE__*/React.createElement(MuiPickersUtilsProvider, {\n      utils: DateFnsUtils,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(KeyboardDatePicker, {\n      margin: \"none\",\n      id: \"mui-pickers-date\",\n      label: \"Order Date\",\n      inputVariant: \"standard\",\n      type: \"text\",\n      autoOk: true,\n      value: date,\n      fullWidth: true,\n      format: \"MMMM dd, yyyy\",\n      onChange: this.handleDateChange,\n      KeyboardButtonProps: {\n        \"aria-label\": \"change date\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(Divider, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Grid, {\n      className: \"px-16 py-20\",\n      container: true,\n      justify: \"space-between\",\n      spacing: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"mb-20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }\n    }, \"Bill From\"), /*#__PURE__*/React.createElement(TextValidator, {\n      className: \"mb-20\",\n      label: \"Seller Name\",\n      onChange: event => this.handleSellerBuyerChange(event, \"seller\"),\n      type: \"text\",\n      name: \"name\",\n      fullWidth: true,\n      value: seller ? seller.name : null,\n      validators: [\"required\"],\n      errorMessages: [\"this field is required\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TextValidator, {\n      label: \"Seller Name\",\n      type: \"text\",\n      onChange: event => this.handleSellerBuyerChange(event, \"seller\"),\n      name: \"address\",\n      fullWidth: true,\n      multiline: true,\n      rowsMax: 4,\n      value: seller ? seller.address : null,\n      validators: [\"required\"],\n      errorMessages: [\"this field is required\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-align-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"mb-20\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 17\n      }\n    }, \"Bill To\"), /*#__PURE__*/React.createElement(TextValidator, {\n      className: \"mb-20\",\n      label: \"Buyer Name\",\n      onChange: event => this.handleSellerBuyerChange(event, \"buyer\"),\n      type: \"text\",\n      name: \"name\",\n      fullWidth: true,\n      value: buyer ? buyer.name : null,\n      validators: [\"required\"],\n      errorMessages: [\"this field is required\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TextValidator, {\n      label: \"Buyer Address\",\n      onChange: event => this.handleSellerBuyerChange(event, \"buyer\"),\n      type: \"text\",\n      name: \"address\",\n      fullWidth: true,\n      multiline: true,\n      rowsMax: 4,\n      value: buyer ? buyer.address : null,\n      validators: [\"required\"],\n      errorMessages: [\"this field is required\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(Table, {\n      className: \"mb-16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      className: \"bg-light-gray\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      className: \"pl-sm-24\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 17\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 17\n      }\n    }, \"Item Name\"), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 17\n      }\n    }, \"Unit Price\"), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }\n    }, \"Unit\"), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 17\n      }\n    }, \"Cost\"), /*#__PURE__*/React.createElement(TableCell, {\n      className: \"px-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 17\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 13\n      }\n    }, invoiceItemList.map((item, index) => {\n      this.subTotalCost += item.price * item.unit;\n      return /*#__PURE__*/React.createElement(TableRow, {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(TableCell, {\n        className: \"pl-sm-24 capitalize\",\n        align: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 21\n        }\n      }, index + 1), /*#__PURE__*/React.createElement(TableCell, {\n        className: \"pl-0 capitalize\",\n        align: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(TextValidator, {\n        label: \"Item Name\",\n        onChange: event => this.handleIvoiceListChange(event, index),\n        type: \"text\",\n        name: \"name\",\n        fullWidth: true,\n        value: item ? item.name : null,\n        validators: [\"required\"],\n        errorMessages: [\"this field is required\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 23\n        }\n      })), /*#__PURE__*/React.createElement(TableCell, {\n        className: \"pl-0 capitalize\",\n        align: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(TextValidator, {\n        label: \"Item Price\",\n        onChange: event => this.handleIvoiceListChange(event, index),\n        type: \"number\",\n        name: \"price\",\n        fullWidth: true,\n        value: item ? item.price : null,\n        validators: [\"required\"],\n        errorMessages: [\"this field is required\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 23\n        }\n      })), /*#__PURE__*/React.createElement(TableCell, {\n        className: \"pl-0 capitalize\",\n        align: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(TextValidator, {\n        label: \"Item Unit\",\n        onChange: event => this.handleIvoiceListChange(event, index),\n        type: \"number\",\n        name: \"unit\",\n        fullWidth: true,\n        value: item ? item.unit : null,\n        validators: [\"required\"],\n        errorMessages: [\"this field is required\"],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 23\n        }\n      })), /*#__PURE__*/React.createElement(TableCell, {\n        className: \"pl-0 capitalize\",\n        align: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 21\n        }\n      }, item.unit * item.price), /*#__PURE__*/React.createElement(TableCell, {\n        className: \"pl-0 capitalize\",\n        align: \"left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: () => this.deleteItemFromInvoiceList(index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 23\n        }\n      }, \"Delete\")));\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex flex-end px-16 mb-16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: this.addItemToInvoiceList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 13\n      }\n    }, \"Add Item\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-16 flex flex-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pr-48\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mb-32\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 17\n      }\n    }, \"Sub Total:\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mb-36\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 17\n      }\n    }, \"Vat(%):\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mb-32\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 17\n      }\n    }, \"currency:\"), /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 19\n      }\n    }, \"Grand Total:\"))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"mb-16\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 17\n      }\n    }, this.subTotalCost), /*#__PURE__*/React.createElement(TextValidator, {\n      className: \"mb-16\",\n      label: \"Vat\",\n      onChange: this.handleChange,\n      type: \"number\",\n      name: \"vat\",\n      value: vat,\n      validators: [\"required\"],\n      errorMessages: [\"this field is required\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(TextValidator, {\n      label: \"Currency\",\n      onChange: this.handleChange,\n      type: \"text\",\n      name: \"currency\",\n      value: currency,\n      validators: [\"required\"],\n      errorMessages: [\"this field is required\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        marginTop: \"18px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 19\n      }\n    }, currency, this.subTotalCost * vat)))))));\n  }\n\n}\n\nexport default withRouter(InvoiceEditor);","map":{"version":3,"sources":["D:/TraniningGlobits/baitap_level2/client/react/src/app/views/invoice/InvoiceEditor.jsx"],"names":["React","Component","Button","Radio","FormControl","FormControlLabel","Divider","RadioGroup","Grid","Table","TableHead","TableRow","TableCell","TableBody","ValidatorForm","TextValidator","MuiPickersUtilsProvider","KeyboardDatePicker","DateFnsUtils","getInvoiceById","addInvoice","updateInvoice","withRouter","InvoiceEditor","subTotalCost","state","id","orderNo","buyer","name","address","seller","item","status","vat","date","Date","currency","loading","generateRandomId","tempId","Math","random","toString","substr","length","setState","handleChange","event","persist","target","value","handleSellerBuyerChange","fieldName","handleIvoiceListChange","index","tempItemList","map","element","i","addItemToInvoiceList","push","unit","price","deleteItemFromInvoiceList","splice","handleDateChange","handleSubmit","tempState","props","isNewInvoice","then","history","toggleInvoiceEditor","componentDidMount","match","params","res","data","render","invoiceItemList","errors","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Button,\n  Radio,\n  FormControl,\n  FormControlLabel,\n  Divider,\n  RadioGroup,\n  Grid,\n  Table,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableBody\n} from \"@material-ui/core\";\nimport { ValidatorForm, TextValidator } from \"react-material-ui-form-validator\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker\n} from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { getInvoiceById, addInvoice, updateInvoice } from \"./InvoiceService\";\nimport { withRouter } from \"react-router-dom\";\n\nclass InvoiceEditor extends Component {\n  subTotalCost = 0;\n  state = {\n    id: \"\",\n    orderNo: \"\",\n    buyer: {\n      name: \"\",\n      address: \"\"\n    },\n    seller: {\n      name: \"\",\n      address: \"\"\n    },\n    item: [],\n    status: \"\",\n    vat: \"\",\n    date: new Date(),\n    currency: \"\",\n    loading: false\n  };\n\n  componentDidMount() {\n    if (!this.props.isNewInvoice)\n      getInvoiceById(this.props.match.params.id).then(res => {\n        this.setState({ ...res.data });\n      });\n    else {\n      this.generateRandomId();\n    }\n  }\n\n  generateRandomId = () => {\n    let tempId = Math.random().toString();\n    let id = tempId.substr(2, tempId.length - 1);\n    this.setState({ id });\n  };\n\n  handleChange = event => {\n    event.persist();\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSellerBuyerChange = (event, fieldName) => {\n    event.persist();\n    this.setState({\n      [fieldName]: {\n        ...this.state[fieldName],\n        [event.target.name]: event.target.value\n      }\n    });\n  };\n\n  handleIvoiceListChange = (event, index) => {\n    let tempItemList = [...this.state.item];\n    tempItemList.map((element, i) => {\n      if (index === i) element[event.target.name] = event.target.value;\n      return element;\n    });\n\n    this.setState({\n      item: tempItemList\n    });\n  };\n\n  addItemToInvoiceList = () => {\n    let tempItemList = [...this.state.item];\n    tempItemList.push({\n      name: \"\",\n      unit: \"\",\n      price: \"\"\n    });\n    this.setState({\n      item: tempItemList\n    });\n  };\n\n  deleteItemFromInvoiceList = index => {\n    let tempItemList = [...this.state.item];\n    tempItemList.splice(index, 1);\n    this.setState({\n      item: tempItemList\n    });\n  };\n\n  handleDateChange = date => {\n    this.setState({ date });\n  };\n\n  handleSubmit = () => {\n    this.setState({ loading: true });\n    let tempState = this.state;\n    delete tempState.loading;\n    if (this.props.isNewInvoice)\n      addInvoice(tempState).then(() => {\n        this.setState({ loading: false });\n        this.props.history.push(`/invoice/${this.state.id}`);\n        this.props.toggleInvoiceEditor();\n      });\n    else\n      updateInvoice(tempState).then(() => {\n        this.setState({ loading: false });\n        this.props.toggleInvoiceEditor();\n      });\n  };\n\n  render() {\n    this.subTotalCost = 0;\n    let {\n      orderNo,\n      buyer,\n      seller,\n      item: invoiceItemList = [],\n      status,\n      vat,\n      date,\n      currency,\n      loading\n    } = this.state;\n\n    return (\n      <div className=\"invoice-viewer py-16\">\n        <ValidatorForm\n          ref=\"form\"\n          onSubmit={this.handleSubmit}\n          onError={errors => this.handleSubmit}\n        >\n          <div className=\"viewer_actions px-16 flex flex-end\">\n            <div className=\"mb-24\">\n              <Button\n                type=\"button\"\n                className=\"mr-16 py-8\"\n                variant=\"text\"\n                onClick={() => this.props.toggleInvoiceEditor()}\n              >\n                Cancel\n              </Button>\n              <Button\n                type=\"submit\"\n                className=\"py-8\"\n                variant=\"contained\"\n                color=\"primary\"\n                disabled={loading}\n              >\n                Save\n              </Button>\n            </div>\n          </div>\n\n          <div className=\"viewer__order-info px-16 mb-16 flex flex-space-between\">\n            <div>\n              <h5 className=\"mb-8\">Order Info</h5>\n              <p className=\"mb-16\">Order Number</p>\n              <TextValidator\n                label=\"Order No.\"\n                onChange={this.handleChange}\n                type=\"text\"\n                fullWidth\n                name=\"orderNo\"\n                value={orderNo}\n                validators={[\"required\"]}\n                errorMessages={[\"this field is required\"]}\n              />\n            </div>\n            <div>\n              <FormControl component=\"fieldset\" className=\"w-100 mb-16\">\n                <RadioGroup\n                  aria-label=\"status\"\n                  name=\"status\"\n                  value={status}\n                  onChange={this.handleChange}\n                >\n                  <FormControlLabel\n                    className=\"h-32\"\n                    value=\"pending\"\n                    control={<Radio color=\"secondary\" />}\n                    label=\"Pending\"\n                    labelPlacement=\"start\"\n                  />\n                  <FormControlLabel\n                    className=\"h-32\"\n                    value=\"processing\"\n                    control={<Radio color=\"secondary\" />}\n                    label=\"Processing\"\n                    labelPlacement=\"start\"\n                  />\n                  <FormControlLabel\n                    className=\"h-32\"\n                    value=\"delivered\"\n                    control={<Radio color=\"secondary\" />}\n                    label=\"Delivered\"\n                    labelPlacement=\"start\"\n                  />\n                </RadioGroup>\n              </FormControl>\n\n              <div className=\"text-align-right\">\n                <h5 className=\"font-weight-normal\">\n                  <strong>Order date: </strong>\n                </h5>\n              </div>\n\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                <KeyboardDatePicker\n                  margin=\"none\"\n                  id=\"mui-pickers-date\"\n                  label=\"Order Date\"\n                  inputVariant=\"standard\"\n                  type=\"text\"\n                  autoOk={true}\n                  value={date}\n                  fullWidth\n                  format=\"MMMM dd, yyyy\"\n                  onChange={this.handleDateChange}\n                  KeyboardButtonProps={{\n                    \"aria-label\": \"change date\"\n                  }}\n                />\n              </MuiPickersUtilsProvider>\n            </div>\n          </div>\n\n          <Divider />\n\n          <Grid\n            className=\"px-16 py-20\"\n            container\n            justify=\"space-between\"\n            spacing={4}\n          >\n            <Grid item>\n              <div>\n                <h5 className=\"mb-20\">Bill From</h5>\n                <TextValidator\n                  className=\"mb-20\"\n                  label=\"Seller Name\"\n                  onChange={event =>\n                    this.handleSellerBuyerChange(event, \"seller\")\n                  }\n                  type=\"text\"\n                  name=\"name\"\n                  fullWidth\n                  value={seller ? seller.name : null}\n                  validators={[\"required\"]}\n                  errorMessages={[\"this field is required\"]}\n                />\n                <TextValidator\n                  label=\"Seller Name\"\n                  type=\"text\"\n                  onChange={event =>\n                    this.handleSellerBuyerChange(event, \"seller\")\n                  }\n                  name=\"address\"\n                  fullWidth\n                  multiline={true}\n                  rowsMax={4}\n                  value={seller ? seller.address : null}\n                  validators={[\"required\"]}\n                  errorMessages={[\"this field is required\"]}\n                />\n              </div>\n            </Grid>\n            <Grid item>\n              <div className=\"text-align-right\">\n                <h5 className=\"mb-20\">Bill To</h5>\n                <TextValidator\n                  className=\"mb-20\"\n                  label=\"Buyer Name\"\n                  onChange={event =>\n                    this.handleSellerBuyerChange(event, \"buyer\")\n                  }\n                  type=\"text\"\n                  name=\"name\"\n                  fullWidth\n                  value={buyer ? buyer.name : null}\n                  validators={[\"required\"]}\n                  errorMessages={[\"this field is required\"]}\n                />\n                <TextValidator\n                  label=\"Buyer Address\"\n                  onChange={event =>\n                    this.handleSellerBuyerChange(event, \"buyer\")\n                  }\n                  type=\"text\"\n                  name=\"address\"\n                  fullWidth\n                  multiline={true}\n                  rowsMax={4}\n                  value={buyer ? buyer.address : null}\n                  validators={[\"required\"]}\n                  errorMessages={[\"this field is required\"]}\n                />\n              </div>\n            </Grid>\n          </Grid>\n\n          {/* Item list for editing */}\n          <Table className=\"mb-16\">\n            <TableHead>\n              <TableRow className=\"bg-light-gray\">\n                <TableCell className=\"pl-sm-24\">#</TableCell>\n                <TableCell className=\"px-0\">Item Name</TableCell>\n                <TableCell className=\"px-0\">Unit Price</TableCell>\n                <TableCell className=\"px-0\">Unit</TableCell>\n                <TableCell className=\"px-0\">Cost</TableCell>\n                <TableCell className=\"px-0\">Action</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {invoiceItemList.map((item, index) => {\n                this.subTotalCost += item.price * item.unit;\n                return (\n                  <TableRow key={index}>\n                    <TableCell className=\"pl-sm-24 capitalize\" align=\"left\">\n                      {index + 1}\n                    </TableCell>\n\n                    <TableCell className=\"pl-0 capitalize\" align=\"left\">\n                      <TextValidator\n                        label=\"Item Name\"\n                        onChange={event =>\n                          this.handleIvoiceListChange(event, index)\n                        }\n                        type=\"text\"\n                        name=\"name\"\n                        fullWidth\n                        value={item ? item.name : null}\n                        validators={[\"required\"]}\n                        errorMessages={[\"this field is required\"]}\n                      />\n                    </TableCell>\n\n                    <TableCell className=\"pl-0 capitalize\" align=\"left\">\n                      <TextValidator\n                        label=\"Item Price\"\n                        onChange={event =>\n                          this.handleIvoiceListChange(event, index)\n                        }\n                        type=\"number\"\n                        name=\"price\"\n                        fullWidth\n                        value={item ? item.price : null}\n                        validators={[\"required\"]}\n                        errorMessages={[\"this field is required\"]}\n                      />\n                    </TableCell>\n\n                    <TableCell className=\"pl-0 capitalize\" align=\"left\">\n                      <TextValidator\n                        label=\"Item Unit\"\n                        onChange={event =>\n                          this.handleIvoiceListChange(event, index)\n                        }\n                        type=\"number\"\n                        name=\"unit\"\n                        fullWidth\n                        value={item ? item.unit : null}\n                        validators={[\"required\"]}\n                        errorMessages={[\"this field is required\"]}\n                      />\n                    </TableCell>\n\n                    <TableCell className=\"pl-0 capitalize\" align=\"left\">\n                      {item.unit * item.price}\n                    </TableCell>\n\n                    <TableCell className=\"pl-0 capitalize\" align=\"left\">\n                      <Button\n                        onClick={() => this.deleteItemFromInvoiceList(index)}\n                      >\n                        Delete\n                      </Button>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n          <div className=\"flex flex-end px-16 mb-16\">\n            <Button onClick={this.addItemToInvoiceList}>Add Item</Button>\n          </div>\n\n          {/* total cost calculation */}\n          <div className=\"px-16 flex flex-end\">\n            <div className=\"flex\">\n              <div className=\"pr-48\">\n                <p className=\"mb-32\">Sub Total:</p>\n                <p className=\"mb-36\">Vat(%):</p>\n                <p className=\"mb-32\">currency:</p>\n                <strong>\n                  <p>Grand Total:</p>\n                </strong>\n              </div>\n              <div>\n                <p className=\"mb-16\">{this.subTotalCost}</p>\n                <TextValidator\n                  className=\"mb-16\"\n                  label=\"Vat\"\n                  onChange={this.handleChange}\n                  type=\"number\"\n                  name=\"vat\"\n                  value={vat}\n                  validators={[\"required\"]}\n                  errorMessages={[\"this field is required\"]}\n                />\n                <br />\n                <TextValidator\n                  label=\"Currency\"\n                  onChange={this.handleChange}\n                  type=\"text\"\n                  name=\"currency\"\n                  value={currency}\n                  validators={[\"required\"]}\n                  errorMessages={[\"this field is required\"]}\n                />\n                <p style={{ marginTop: \"18px\" }}>\n                  <strong>\n                    {currency}\n                    {this.subTotalCost * vat}\n                  </strong>\n                </p>\n              </div>\n            </div>\n          </div>\n        </ValidatorForm>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(InvoiceEditor);\n"]},"metadata":{},"sourceType":"module"}