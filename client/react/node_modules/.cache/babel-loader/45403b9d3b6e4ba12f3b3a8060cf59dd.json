{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = withDragAndDrop;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\n\nvar _propTypes2 = require(\"../../utils/propTypes\");\n\nvar _EventWrapper = _interopRequireDefault(require(\"./EventWrapper\"));\n\nvar _EventContainerWrapper = _interopRequireDefault(require(\"./EventContainerWrapper\"));\n\nvar _WeekWrapper = _interopRequireDefault(require(\"./WeekWrapper\"));\n\nvar _common = require(\"./common\");\n/**\n * Creates a higher-order component (HOC) supporting drag & drop and optionally resizing\n * of events:\n *\n * ```js\n *    import Calendar from 'react-big-calendar'\n *    import withDragAndDrop from 'react-big-calendar/lib/addons/dragAndDrop'\n *    export default withDragAndDrop(Calendar)\n * ```\n *\n * Set `resizable` to true in your calendar if you want events to be resizable.\n *\n * The HOC adds `onEventDrop`, `onEventResize`, and `onDragStart` callback properties if the events are\n * moved or resized. These callbacks are called with these signatures:\n *\n * ```js\n *    function onEventDrop({ event, start, end, allDay }) {...}\n *    function onEventResize(type, { event, start, end, allDay }) {...}  // type is always 'drop'\n *    function onDragStart({ event, action, direction }) {...}\n * ```\n *\n * Moving and resizing of events has some subtlety which one should be aware of.\n *\n * In some situations, non-allDay events are displayed in \"row\" format where they\n * are rendered horizontally. This is the case for ALL events in a month view. It\n * is also occurs with multi-day events in a day or week view (unless `showMultiDayTimes`\n * is set).\n *\n * When dropping or resizing non-allDay events into a the header area or when\n * resizing them horizontally because they are displayed in row format, their\n * times are preserved, only their date is changed.\n *\n * If you care about these corner cases, you can examine the `allDay` param suppled\n * in the callback to determine how the user dropped or resized the event.\n *\n * Additionally, this HOC adds the callback props `onDropFromOutside` and `onDragOver`.\n * By default, the calendar will not respond to outside draggable items being dropped\n * onto it. However, if `onDropFromOutside` callback is passed, then when draggable\n * DOM elements are dropped on the calendar, the callback will fire, receiving an\n * object with start and end times, and an allDay boolean.\n *\n * If `onDropFromOutside` is passed, but `onDragOver` is not, any draggable event will be\n * droppable  onto the calendar by default. On the other hand, if an `onDragOver` callback\n * *is* passed, then it can discriminate as to whether a draggable item is droppable on the\n * calendar. To designate a draggable item as droppable, call `event.preventDefault`\n * inside `onDragOver`. If `event.preventDefault` is not called in the `onDragOver`\n * callback, then the draggable item will not be droppable on the calendar.\n *\n * * ```js\n *    function onDropFromOutside({ start, end, allDay }) {...}\n *    function onDragOver(DragEvent: event) {...}\n * ```\n * @param {*} Calendar\n * @param {*} backend\n */\n\n\nfunction withDragAndDrop(Calendar) {\n  var DragAndDropCalendar = /*#__PURE__*/function (_React$Component) {\n    (0, _inheritsLoose2.default)(DragAndDropCalendar, _React$Component);\n\n    function DragAndDropCalendar() {\n      var _this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n      _this.defaultOnDragOver = function (event) {\n        event.preventDefault();\n      };\n\n      _this.handleBeginAction = function (event, action, direction) {\n        var onDragStart = _this.props.onDragStart;\n\n        _this.setState({\n          event: event,\n          action: action,\n          direction: direction\n        });\n\n        if (onDragStart) {\n          onDragStart({\n            event: event,\n            action: action,\n            direction: direction\n          });\n        }\n      };\n\n      _this.handleInteractionStart = function () {\n        if (_this.state.interacting === false) _this.setState({\n          interacting: true\n        });\n      };\n\n      _this.handleInteractionEnd = function (interactionInfo) {\n        var _this$state = _this.state,\n            action = _this$state.action,\n            event = _this$state.event;\n        if (!action) return;\n\n        _this.setState({\n          action: null,\n          event: null,\n          interacting: false,\n          direction: null\n        });\n\n        if (interactionInfo == null) return;\n        interactionInfo.event = event;\n        if (action === 'move') _this.props.onEventDrop(interactionInfo);\n        if (action === 'resize') _this.props.onEventResize(interactionInfo);\n      };\n\n      var components = _this.props.components;\n      _this.components = (0, _common.mergeComponents)(components, {\n        eventWrapper: _EventWrapper.default,\n        eventContainerWrapper: _EventContainerWrapper.default,\n        weekWrapper: _WeekWrapper.default\n      });\n      _this.state = {\n        interacting: false\n      };\n      return _this;\n    }\n\n    var _proto = DragAndDropCalendar.prototype;\n\n    _proto.getChildContext = function getChildContext() {\n      return {\n        draggable: {\n          onStart: this.handleInteractionStart,\n          onEnd: this.handleInteractionEnd,\n          onBeginAction: this.handleBeginAction,\n          onDropFromOutside: this.props.onDropFromOutside,\n          dragFromOutsideItem: this.props.dragFromOutsideItem,\n          draggableAccessor: this.props.draggableAccessor,\n          resizableAccessor: this.props.resizableAccessor,\n          dragAndDropAction: this.state\n        }\n      };\n    };\n\n    _proto.render = function render() {\n      var _this$props = this.props,\n          selectable = _this$props.selectable,\n          elementProps = _this$props.elementProps,\n          props = (0, _objectWithoutPropertiesLoose2.default)(_this$props, [\"selectable\", \"elementProps\"]);\n      var interacting = this.state.interacting;\n      delete props.onEventDrop;\n      delete props.onEventResize;\n      props.selectable = selectable ? 'ignoreEvents' : false;\n      var elementPropsWithDropFromOutside = this.props.onDropFromOutside ? (0, _extends2.default)({}, elementProps, {\n        onDragOver: this.props.onDragOver || this.defaultOnDragOver\n      }) : elementProps;\n      props.className = (0, _clsx.default)(props.className, 'rbc-addons-dnd', !!interacting && 'rbc-addons-dnd-is-dragging');\n      return _react.default.createElement(Calendar, (0, _extends2.default)({}, props, {\n        elementProps: elementPropsWithDropFromOutside,\n        components: this.components\n      }));\n    };\n\n    return DragAndDropCalendar;\n  }(_react.default.Component);\n\n  DragAndDropCalendar.defaultProps = {\n    // TODO: pick these up from Calendar.defaultProps\n    components: {},\n    draggableAccessor: null,\n    resizableAccessor: null,\n    step: 30\n  };\n  DragAndDropCalendar.contextTypes = {\n    dragDropManager: _propTypes.default.object\n  };\n  DragAndDropCalendar.childContextTypes = {\n    draggable: _propTypes.default.shape({\n      onStart: _propTypes.default.func,\n      onEnd: _propTypes.default.func,\n      onBeginAction: _propTypes.default.func,\n      onDropFromOutside: _propTypes.default.func,\n      dragFromOutsideItem: _propTypes.default.func,\n      draggableAccessor: _propTypes2.accessor,\n      resizableAccessor: _propTypes2.accessor,\n      dragAndDropAction: _propTypes.default.object\n    })\n  };\n  DragAndDropCalendar.propTypes = process.env.NODE_ENV !== \"production\" ? {\n    onEventDrop: _propTypes.default.func,\n    onEventResize: _propTypes.default.func,\n    onDragStart: _propTypes.default.func,\n    onDragOver: _propTypes.default.func,\n    onDropFromOutside: _propTypes.default.func,\n    dragFromOutsideItem: _propTypes.default.func,\n    draggableAccessor: _propTypes2.accessor,\n    resizableAccessor: _propTypes2.accessor,\n    selectable: _propTypes.default.oneOf([true, false, 'ignoreEvents']),\n    resizable: _propTypes.default.bool,\n    components: _propTypes.default.object,\n    elementProps: _propTypes.default.object,\n    step: _propTypes.default.number\n  } : {};\n  return DragAndDropCalendar;\n}\n\nmodule.exports = exports[\"default\"];","map":{"version":3,"sources":["D:/TraniningGlobits/baitap_level2/client/react/node_modules/react-big-calendar/lib/addons/dragAndDrop/withDragAndDrop.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","withDragAndDrop","_extends2","_objectWithoutPropertiesLoose2","_inheritsLoose2","_propTypes","_react","_clsx","_propTypes2","_EventWrapper","_EventContainerWrapper","_WeekWrapper","_common","Calendar","DragAndDropCalendar","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","defaultOnDragOver","event","preventDefault","handleBeginAction","action","direction","onDragStart","props","setState","handleInteractionStart","state","interacting","handleInteractionEnd","interactionInfo","_this$state","onEventDrop","onEventResize","components","mergeComponents","eventWrapper","eventContainerWrapper","weekWrapper","_proto","prototype","getChildContext","draggable","onStart","onEnd","onBeginAction","onDropFromOutside","dragFromOutsideItem","draggableAccessor","resizableAccessor","dragAndDropAction","render","_this$props","selectable","elementProps","elementPropsWithDropFromOutside","onDragOver","className","createElement","Component","defaultProps","step","contextTypes","dragDropManager","object","childContextTypes","shape","func","accessor","propTypes","process","env","NODE_ENV","oneOf","resizable","bool","number","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = withDragAndDrop;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _clsx = _interopRequireDefault(require(\"clsx\"));\n\nvar _propTypes2 = require(\"../../utils/propTypes\");\n\nvar _EventWrapper = _interopRequireDefault(require(\"./EventWrapper\"));\n\nvar _EventContainerWrapper = _interopRequireDefault(require(\"./EventContainerWrapper\"));\n\nvar _WeekWrapper = _interopRequireDefault(require(\"./WeekWrapper\"));\n\nvar _common = require(\"./common\");\n\n/**\n * Creates a higher-order component (HOC) supporting drag & drop and optionally resizing\n * of events:\n *\n * ```js\n *    import Calendar from 'react-big-calendar'\n *    import withDragAndDrop from 'react-big-calendar/lib/addons/dragAndDrop'\n *    export default withDragAndDrop(Calendar)\n * ```\n *\n * Set `resizable` to true in your calendar if you want events to be resizable.\n *\n * The HOC adds `onEventDrop`, `onEventResize`, and `onDragStart` callback properties if the events are\n * moved or resized. These callbacks are called with these signatures:\n *\n * ```js\n *    function onEventDrop({ event, start, end, allDay }) {...}\n *    function onEventResize(type, { event, start, end, allDay }) {...}  // type is always 'drop'\n *    function onDragStart({ event, action, direction }) {...}\n * ```\n *\n * Moving and resizing of events has some subtlety which one should be aware of.\n *\n * In some situations, non-allDay events are displayed in \"row\" format where they\n * are rendered horizontally. This is the case for ALL events in a month view. It\n * is also occurs with multi-day events in a day or week view (unless `showMultiDayTimes`\n * is set).\n *\n * When dropping or resizing non-allDay events into a the header area or when\n * resizing them horizontally because they are displayed in row format, their\n * times are preserved, only their date is changed.\n *\n * If you care about these corner cases, you can examine the `allDay` param suppled\n * in the callback to determine how the user dropped or resized the event.\n *\n * Additionally, this HOC adds the callback props `onDropFromOutside` and `onDragOver`.\n * By default, the calendar will not respond to outside draggable items being dropped\n * onto it. However, if `onDropFromOutside` callback is passed, then when draggable\n * DOM elements are dropped on the calendar, the callback will fire, receiving an\n * object with start and end times, and an allDay boolean.\n *\n * If `onDropFromOutside` is passed, but `onDragOver` is not, any draggable event will be\n * droppable  onto the calendar by default. On the other hand, if an `onDragOver` callback\n * *is* passed, then it can discriminate as to whether a draggable item is droppable on the\n * calendar. To designate a draggable item as droppable, call `event.preventDefault`\n * inside `onDragOver`. If `event.preventDefault` is not called in the `onDragOver`\n * callback, then the draggable item will not be droppable on the calendar.\n *\n * * ```js\n *    function onDropFromOutside({ start, end, allDay }) {...}\n *    function onDragOver(DragEvent: event) {...}\n * ```\n * @param {*} Calendar\n * @param {*} backend\n */\nfunction withDragAndDrop(Calendar) {\n  var DragAndDropCalendar =\n  /*#__PURE__*/\n  function (_React$Component) {\n    (0, _inheritsLoose2.default)(DragAndDropCalendar, _React$Component);\n\n    function DragAndDropCalendar() {\n      var _this;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n      _this.defaultOnDragOver = function (event) {\n        event.preventDefault();\n      };\n\n      _this.handleBeginAction = function (event, action, direction) {\n        var onDragStart = _this.props.onDragStart;\n\n        _this.setState({\n          event: event,\n          action: action,\n          direction: direction\n        });\n\n        if (onDragStart) {\n          onDragStart({\n            event: event,\n            action: action,\n            direction: direction\n          });\n        }\n      };\n\n      _this.handleInteractionStart = function () {\n        if (_this.state.interacting === false) _this.setState({\n          interacting: true\n        });\n      };\n\n      _this.handleInteractionEnd = function (interactionInfo) {\n        var _this$state = _this.state,\n            action = _this$state.action,\n            event = _this$state.event;\n        if (!action) return;\n\n        _this.setState({\n          action: null,\n          event: null,\n          interacting: false,\n          direction: null\n        });\n\n        if (interactionInfo == null) return;\n        interactionInfo.event = event;\n        if (action === 'move') _this.props.onEventDrop(interactionInfo);\n        if (action === 'resize') _this.props.onEventResize(interactionInfo);\n      };\n\n      var components = _this.props.components;\n      _this.components = (0, _common.mergeComponents)(components, {\n        eventWrapper: _EventWrapper.default,\n        eventContainerWrapper: _EventContainerWrapper.default,\n        weekWrapper: _WeekWrapper.default\n      });\n      _this.state = {\n        interacting: false\n      };\n      return _this;\n    }\n\n    var _proto = DragAndDropCalendar.prototype;\n\n    _proto.getChildContext = function getChildContext() {\n      return {\n        draggable: {\n          onStart: this.handleInteractionStart,\n          onEnd: this.handleInteractionEnd,\n          onBeginAction: this.handleBeginAction,\n          onDropFromOutside: this.props.onDropFromOutside,\n          dragFromOutsideItem: this.props.dragFromOutsideItem,\n          draggableAccessor: this.props.draggableAccessor,\n          resizableAccessor: this.props.resizableAccessor,\n          dragAndDropAction: this.state\n        }\n      };\n    };\n\n    _proto.render = function render() {\n      var _this$props = this.props,\n          selectable = _this$props.selectable,\n          elementProps = _this$props.elementProps,\n          props = (0, _objectWithoutPropertiesLoose2.default)(_this$props, [\"selectable\", \"elementProps\"]);\n      var interacting = this.state.interacting;\n      delete props.onEventDrop;\n      delete props.onEventResize;\n      props.selectable = selectable ? 'ignoreEvents' : false;\n      var elementPropsWithDropFromOutside = this.props.onDropFromOutside ? (0, _extends2.default)({}, elementProps, {\n        onDragOver: this.props.onDragOver || this.defaultOnDragOver\n      }) : elementProps;\n      props.className = (0, _clsx.default)(props.className, 'rbc-addons-dnd', !!interacting && 'rbc-addons-dnd-is-dragging');\n      return _react.default.createElement(Calendar, (0, _extends2.default)({}, props, {\n        elementProps: elementPropsWithDropFromOutside,\n        components: this.components\n      }));\n    };\n\n    return DragAndDropCalendar;\n  }(_react.default.Component);\n\n  DragAndDropCalendar.defaultProps = {\n    // TODO: pick these up from Calendar.defaultProps\n    components: {},\n    draggableAccessor: null,\n    resizableAccessor: null,\n    step: 30\n  };\n  DragAndDropCalendar.contextTypes = {\n    dragDropManager: _propTypes.default.object\n  };\n  DragAndDropCalendar.childContextTypes = {\n    draggable: _propTypes.default.shape({\n      onStart: _propTypes.default.func,\n      onEnd: _propTypes.default.func,\n      onBeginAction: _propTypes.default.func,\n      onDropFromOutside: _propTypes.default.func,\n      dragFromOutsideItem: _propTypes.default.func,\n      draggableAccessor: _propTypes2.accessor,\n      resizableAccessor: _propTypes2.accessor,\n      dragAndDropAction: _propTypes.default.object\n    })\n  };\n  DragAndDropCalendar.propTypes = process.env.NODE_ENV !== \"production\" ? {\n    onEventDrop: _propTypes.default.func,\n    onEventResize: _propTypes.default.func,\n    onDragStart: _propTypes.default.func,\n    onDragOver: _propTypes.default.func,\n    onDropFromOutside: _propTypes.default.func,\n    dragFromOutsideItem: _propTypes.default.func,\n    draggableAccessor: _propTypes2.accessor,\n    resizableAccessor: _propTypes2.accessor,\n    selectable: _propTypes.default.oneOf([true, false, 'ignoreEvents']),\n    resizable: _propTypes.default.bool,\n    components: _propTypes.default.object,\n    elementProps: _propTypes.default.object,\n    step: _propTypes.default.number\n  } : {};\n  return DragAndDropCalendar;\n}\n\nmodule.exports = exports[\"default\"];"]},"metadata":{},"sourceType":"script"}