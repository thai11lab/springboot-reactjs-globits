{"ast":null,"code":"import _objectWithoutProperties from \"D:\\\\TraniningGlobits\\\\baitap_level2\\\\client\\\\react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"D:\\\\TraniningGlobits\\\\baitap_level2\\\\client\\\\react\\\\src\\\\app\\\\views\\\\GlobitsDatatableMDB\\\\DataTable.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { MDBSelect } from 'mdbreact';\nimport DataTableTable from './DataTableTable';\nimport DataTableTableScroll from './DataTableTableScroll';\nimport DataTableEntries from '../GlobitsDatatableMDB/DataTableEntries';\nimport DataTableSearch from './DataTableSearch';\nimport DataTableInfo from './DataTableInfo';\nimport DataTablePagination from './DataTablePagination';\n\nclass DataTable extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      activePage: 0,\n      columns: this.props.data.columns || [],\n      entries: this.props.entries,\n      filteredRows: this.props.data.rows || [],\n      filterOptions: [],\n      order: this.props.order || [],\n      pages: [],\n      rows: this.props.data.rows || [],\n      search: '',\n      searchSelect: '',\n      sorted: false,\n      translateScrollHead: 0,\n      unsearchable: []\n    };\n\n    this.setData = (rows = [], columns = [], callback) => {\n      this.setState(() => ({\n        columns,\n        rows,\n        filteredRows: this.props.disableRetreatAfterSorting ? this.filterRows() : rows\n      }), callback && typeof callback === 'function' && (() => callback()));\n    };\n\n    this.setUnsearchable = columns => {\n      const unsearchable = [];\n      columns.forEach(column => {\n        if (column.searchable !== undefined && column.searchable === false) {\n          unsearchable.push(column.field);\n        }\n      });\n      this.setState({\n        unsearchable\n      });\n    };\n\n    this.fetchData = (link, isPaginateRows) => {\n      fetch(link).then(res => res.json()).then(json => this.setData(json.rows, json.columns, isPaginateRows ? this.paginateRows : null)).catch(err => console.log(err));\n    };\n\n    this.pagesAmount = () => Math.ceil(this.state.filteredRows.length / this.state.entries);\n\n    this.paginateRowsInitialy = () => {\n      const _this$state = this.state,\n            rows = _this$state.rows,\n            entries = _this$state.entries,\n            pages = _this$state.pages;\n      const pagesAmount = this.pagesAmount();\n\n      for (let i = 1; i <= pagesAmount; i++) {\n        const pageEndIndex = i * entries;\n        pages.push(rows.slice(pageEndIndex - entries, pageEndIndex));\n      }\n    };\n\n    this.handleEntriesChange = value => {\n      this.setState({\n        entries: Array.isArray(value) ? value[0] : value\n      }, () => this.paginateRows());\n    };\n\n    this.handleSearchChange = e => {\n      this.setState({\n        search: e.target.value\n      }, () => this.filterRows(), this.props.onSearch && typeof this.props.onSearch === 'function' && this.props.onSearch(e.target.value));\n    };\n\n    this.checkFieldValue = (array, field) => {\n      return array[field] && typeof array[field] !== 'string' ? array[field].props.searchvalue : array[field];\n    };\n\n    this.checkField = (field, a, b, direction) => {\n      const _ref = [this.checkFieldValue(a, field), this.checkFieldValue(b, field)],\n            aField = _ref[0],\n            bField = _ref[1];\n      let comp = aField > bField ? -1 : 1;\n\n      if (direction === 'asc') {\n        comp *= -1;\n      }\n\n      return comp;\n    };\n\n    this.sort = (rows, sortRows, field, direction) => {\n      rows.sort((a, b) => {\n        if (sortRows && sortRows.includes(field)) {\n          return this.checkField(field, a, b, direction);\n        }\n\n        return direction === 'asc' ? a[field] < b[field] ? -1 : 1 : a[field] > b[field] ? -1 : 1;\n      });\n    };\n\n    this.handleSort = (field, sort) => {\n      const onSort = this.props.onSort;\n\n      if (sort === 'disabled') {\n        return;\n      }\n\n      this.setState(prevState => {\n        const sortRows = this.props.sortRows;\n        const rows = prevState.rows,\n              columns = prevState.columns;\n        const direction = sort === 'desc' ? 'desc' : 'asc';\n        this.sort(rows, sortRows, field, direction);\n        columns.forEach(col => {\n          if (col.sort === 'disabled') {\n            return;\n          }\n\n          col.sort = col.field === field ? col.sort === 'desc' ? 'asc' : 'desc' : '';\n        });\n        return {\n          rows,\n          columns,\n          sorted: true\n        };\n      }, () => this.filterRows());\n      onSort && typeof onSort === 'function' && onSort({\n        column: field,\n        direction: sort === 'desc' ? 'desc' : 'asc'\n      });\n    };\n\n    this.filterRows = (search = this.state.search) => {\n      const unsearchable = this.state.unsearchable;\n      const _this$props = this.props,\n            sortRows = _this$props.sortRows,\n            noRecordsFoundLabel = _this$props.noRecordsFoundLabel;\n      this.setState(prevState => {\n        const filteredRows = prevState.rows.filter(row => {\n          for (const key in row) {\n            if ((!unsearchable.length || !unsearchable.includes(key)) && typeof row[key] !== 'function') {\n              let stringValue = '';\n\n              if (sortRows && typeof row[key] !== 'string') {\n                const content = [];\n\n                const getContent = element => typeof element === 'object' ? element.props.children && Array.from(element.props.children).map(el => getContent(el)) : content.push(element);\n\n                getContent(row[key]);\n                stringValue = content.join('');\n              } else if (row[key]) {\n                stringValue = row[key].toString();\n              }\n\n              if (stringValue.toLowerCase().includes(search.toLowerCase())) {\n                return true;\n              }\n            }\n          }\n\n          return false;\n        });\n\n        if (filteredRows.length === 0) {\n          filteredRows.push({\n            message: noRecordsFoundLabel,\n            colspan: prevState.columns.length\n          });\n        }\n\n        let test = {};\n\n        if (this.props.disableRetreatAfterSorting) {\n          test = {\n            filteredRows,\n            activePage: prevState.activePage = prevState.activePage < prevState.pages.length || prevState.activePage === 0 ? prevState.activePage : prevState.pages.length - 1\n          };\n        } else if (!this.props.disableRetreatAfterSorting) {\n          test = {\n            filteredRows,\n            activePage: 0\n          };\n        }\n\n        return test;\n      }, () => this.paginateRows());\n    };\n\n    this.paginateRows = () => {\n      const pagesAmount = this.pagesAmount();\n      this.setState(prevState => {\n        let pages = prevState.pages,\n            entries = prevState.entries,\n            filteredRows = prevState.filteredRows,\n            activePage = prevState.activePage;\n        const _this$props2 = this.props,\n              paging = _this$props2.paging,\n              disableRetreatAfterSorting = _this$props2.disableRetreatAfterSorting;\n        pages = [];\n\n        if (paging) {\n          for (let i = 1; i <= pagesAmount; i++) {\n            const pageEndIndex = i * entries;\n            pages.push(filteredRows.slice(pageEndIndex - entries, pageEndIndex));\n          }\n\n          if (!disableRetreatAfterSorting) {\n            activePage = activePage < pages.length || activePage === 0 ? activePage : pages.length - 1;\n          }\n        } else {\n          pages.push(filteredRows);\n          activePage = 0;\n        }\n\n        return {\n          pages,\n          filteredRows,\n          activePage\n        };\n      });\n    };\n\n    this.changeActivePage = page => {\n      const onPageChange = this.props.onPageChange;\n      this.setState({\n        activePage: page\n      });\n      onPageChange && typeof onPageChange === 'function' && onPageChange({\n        activePage: page + 1,\n        pagesAmount: this.pagesAmount()\n      });\n    };\n\n    this.handleTableBodyScroll = e => {\n      this.setState({\n        translateScrollHead: e.target.scrollLeft\n      });\n    };\n  }\n\n  componentDidMount() {\n    const _this$props3 = this.props,\n          data = _this$props3.data,\n          paging = _this$props3.paging;\n    const _this$state2 = this.state,\n          order = _this$state2.order,\n          columns = _this$state2.columns,\n          pages = _this$state2.pages,\n          rows = _this$state2.rows;\n\n    if (typeof data === 'string') {\n      this.fetchData(data, this.paginateRows);\n    }\n\n    if (order.length > 0) {\n      this.handleSort(order[0], order[1]);\n    } else {\n      this.handleSort();\n    }\n\n    this.setUnsearchable(columns);\n\n    if (paging) {\n      this.paginateRowsInitialy();\n    } else {\n      pages.push(rows);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const columns = this.state.columns;\n    const data = this.props.data;\n\n    if (prevProps.data !== data) {\n      typeof data === 'string' ? this.fetchData(data) : this.setData(data.rows, data.columns, this.paginateRows);\n      this.setUnsearchable(columns);\n      this.filterRows();\n    }\n  }\n\n  render() {\n    const _this$props4 = this.props,\n          autoWidth = _this$props4.autoWidth,\n          barReverse = _this$props4.barReverse,\n          bordered = _this$props4.bordered,\n          borderless = _this$props4.borderless,\n          btn = _this$props4.btn,\n          children = _this$props4.children,\n          className = _this$props4.className,\n          dark = _this$props4.dark,\n          data = _this$props4.data,\n          disableRetreatAfterSorting = _this$props4.disableRetreatAfterSorting,\n          displayEntries = _this$props4.displayEntries,\n          entriesLabel = _this$props4.entriesLabel,\n          entriesOptions = _this$props4.entriesOptions,\n          exportToCSV = _this$props4.exportToCSV,\n          filter = _this$props4.filter,\n          fixed = _this$props4.fixed,\n          hover = _this$props4.hover,\n          info = _this$props4.info,\n          infoLabel = _this$props4.infoLabel,\n          maxHeight = _this$props4.maxHeight,\n          noBottomColumns = _this$props4.noBottomColumns,\n          noRecordsFoundLabel = _this$props4.noRecordsFoundLabel,\n          onPageChange = _this$props4.onPageChange,\n          onSearch = _this$props4.onSearch,\n          onSort = _this$props4.onSort,\n          order = _this$props4.order,\n          pagesAmount = _this$props4.pagesAmount,\n          paginationLabel = _this$props4.paginationLabel,\n          paging = _this$props4.paging,\n          responsive = _this$props4.responsive,\n          responsiveLg = _this$props4.responsiveLg,\n          responsiveMd = _this$props4.responsiveMd,\n          responsiveSm = _this$props4.responsiveSm,\n          responsiveXl = _this$props4.responsiveXl,\n          scrollX = _this$props4.scrollX,\n          scrollY = _this$props4.scrollY,\n          searching = _this$props4.searching,\n          searchLabel = _this$props4.searchLabel,\n          small = _this$props4.small,\n          sortable = _this$props4.sortable,\n          sortRows = _this$props4.sortRows,\n          striped = _this$props4.striped,\n          tbodyColor = _this$props4.tbodyColor,\n          tbodyTextWhite = _this$props4.tbodyTextWhite,\n          theadColor = _this$props4.theadColor,\n          theadTextWhite = _this$props4.theadTextWhite,\n          attributes = _objectWithoutProperties(_this$props4, [\"autoWidth\", \"barReverse\", \"bordered\", \"borderless\", \"btn\", \"children\", \"className\", \"dark\", \"data\", \"disableRetreatAfterSorting\", \"displayEntries\", \"entriesLabel\", \"entriesOptions\", \"exportToCSV\", \"filter\", \"fixed\", \"hover\", \"info\", \"infoLabel\", \"maxHeight\", \"noBottomColumns\", \"noRecordsFoundLabel\", \"onPageChange\", \"onSearch\", \"onSort\", \"order\", \"pagesAmount\", \"paginationLabel\", \"paging\", \"responsive\", \"responsiveLg\", \"responsiveMd\", \"responsiveSm\", \"responsiveXl\", \"scrollX\", \"scrollY\", \"searching\", \"searchLabel\", \"small\", \"sortable\", \"sortRows\", \"striped\", \"tbodyColor\", \"tbodyTextWhite\", \"theadColor\", \"theadTextWhite\"]);\n\n    const _this$state3 = this.state,\n          columns = _this$state3.columns,\n          entries = _this$state3.entries,\n          filteredRows = _this$state3.filteredRows,\n          filterOptions = _this$state3.filterOptions,\n          pages = _this$state3.pages,\n          activePage = _this$state3.activePage,\n          search = _this$state3.search,\n          sorted = _this$state3.sorted,\n          translateScrollHead = _this$state3.translateScrollHead;\n    const tableClasses = classnames('dataTables_wrapper dt-bootstrap4', className);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      \"data-test\": \"datatable\",\n      className: tableClasses,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\".concat(barReverse ? ' flex-row-reverse' : ''),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DataTableEntries, {\n      paging: paging,\n      displayEntries: displayEntries,\n      entries: entries,\n      handleEntriesChange: this.handleEntriesChange,\n      entriesArr: entriesOptions,\n      label: entriesLabel,\n      barReverse: barReverse,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(DataTableSearch, {\n      handleSearchChange: this.handleSearchChange,\n      search: search,\n      searching: searching,\n      label: searchLabel,\n      barReverse: barReverse,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 11\n      }\n    })), !scrollY && !scrollX && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(DataTableTable, Object.assign({\n      autoWidth: autoWidth,\n      bordered: bordered,\n      borderless: borderless,\n      btn: btn,\n      dark: dark,\n      fixed: fixed,\n      hover: hover,\n      noBottomColumns: noBottomColumns,\n      noRecordsFoundLabel: noRecordsFoundLabel,\n      responsive: responsive,\n      responsiveSm: responsiveSm,\n      responsiveMd: responsiveMd,\n      responsiveLg: responsiveLg,\n      responsiveXl: responsiveXl,\n      small: small,\n      striped: striped,\n      theadColor: theadColor,\n      theadTextWhite: theadTextWhite,\n      columns: columns,\n      handleSort: this.handleSort,\n      sortable: sortable,\n      tbodyColor: tbodyColor,\n      tbodyTextWhite: tbodyTextWhite,\n      rows: pages[activePage],\n      sorted: sorted\n    }, attributes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 13\n      }\n    }))), (scrollY || scrollX) && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(DataTableTableScroll, Object.assign({\n      autoWidth: autoWidth,\n      bordered: bordered,\n      borderless: borderless,\n      btn: btn,\n      dark: dark,\n      fixed: fixed,\n      handleTableBodyScroll: this.handleTableBodyScroll,\n      hover: hover,\n      maxHeight: maxHeight,\n      responsive: responsive,\n      responsiveSm: responsiveSm,\n      responsiveMd: responsiveMd,\n      responsiveLg: responsiveLg,\n      responsiveXl: responsiveXl,\n      scrollX: scrollX,\n      scrollY: scrollY,\n      small: small,\n      striped: striped,\n      theadColor: theadColor,\n      theadTextWhite: theadTextWhite,\n      columns: columns,\n      handleSort: this.handleSort,\n      sortable: sortable,\n      sorted: sorted,\n      tbodyColor: tbodyColor,\n      tbodyTextWhite: tbodyTextWhite,\n      rows: pages[activePage],\n      translateScrollHead: translateScrollHead\n    }, attributes, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 13\n      }\n    }))), paging && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(DataTableInfo, {\n      activePage: activePage,\n      entries: entries,\n      filteredRows: filteredRows,\n      info: info,\n      pages: pages,\n      label: infoLabel,\n      noRecordsFoundLabel: noRecordsFoundLabel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(DataTablePagination, {\n      activePage: activePage,\n      changeActivePage: this.changeActivePage,\n      pages: pages,\n      pagesAmount: pagesAmount,\n      label: paginationLabel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483,\n        columnNumber: 13\n      }\n    })));\n  }\n\n}\n\nDataTable.propTypes = {\n  autoWidth: PropTypes.bool,\n  barReverse: PropTypes.bool,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  btn: PropTypes.bool,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dark: PropTypes.bool,\n  data: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n  disableRetreatAfterSorting: PropTypes.bool,\n  displayEntries: PropTypes.bool,\n  entries: PropTypes.number,\n  entriesLabel: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.object]),\n  entriesOptions: PropTypes.arrayOf(PropTypes.number),\n  exportToCSV: PropTypes.bool,\n  filter: PropTypes.string,\n  fixed: PropTypes.bool,\n  hover: PropTypes.bool,\n  info: PropTypes.bool,\n  infoLabel: PropTypes.oneOfType([PropTypes.array, PropTypes.object, PropTypes.string]),\n  maxHeight: PropTypes.string,\n  noBottomColumns: PropTypes.bool,\n  noRecordsFoundLabel: PropTypes.string,\n  onPageChange: PropTypes.func,\n  onSearch: PropTypes.func,\n  onSort: PropTypes.func,\n  order: PropTypes.arrayOf(PropTypes.string),\n  pagesAmount: PropTypes.number,\n  paginationLabel: PropTypes.arrayOf(PropTypes.string),\n  paging: PropTypes.bool,\n  responsive: PropTypes.bool,\n  responsiveLg: PropTypes.bool,\n  responsiveMd: PropTypes.bool,\n  responsiveSm: PropTypes.bool,\n  responsiveXl: PropTypes.bool,\n  scrollX: PropTypes.bool,\n  scrollY: PropTypes.bool,\n  searching: PropTypes.bool,\n  searchLabel: PropTypes.string,\n  small: PropTypes.bool,\n  sortable: PropTypes.bool,\n  sortRows: PropTypes.arrayOf(PropTypes.string),\n  striped: PropTypes.bool,\n  tbodyColor: PropTypes.string,\n  tbodyTextWhite: PropTypes.bool,\n  theadColor: PropTypes.string,\n  theadTextWhite: PropTypes.bool\n};\nDataTable.defaultProps = {\n  autoWidth: false,\n  barReverse: false,\n  bordered: false,\n  borderless: false,\n  btn: false,\n  dark: false,\n  data: {\n    columns: [],\n    rows: []\n  },\n  disableRetreatAfterSorting: false,\n  displayEntries: true,\n  entries: 10,\n  entriesLabel: 'Show entries',\n  entriesOptions: [10, 20, 50, 100],\n  exportToCSV: false,\n  fixed: false,\n  hover: false,\n  info: true,\n  infoLabel: ['Showing', 'to', 'of', 'entries'],\n  noRecordsFoundLabel: 'No matching records found',\n  noBottomColumns: false,\n  order: [],\n  pagesAmount: 8,\n  paging: true,\n  paginationLabel: ['Previous', 'Next'],\n  responsive: false,\n  responsiveSm: false,\n  responsiveMd: false,\n  responsiveLg: false,\n  responsiveXl: false,\n  searching: true,\n  searchLabel: 'Search',\n  scrollX: false,\n  scrollY: false,\n  sortable: true,\n  small: false,\n  striped: false,\n  theadColor: '',\n  theadTextWhite: false,\n  tbodyColor: '',\n  tbodyTextWhite: false\n};\nexport default DataTable;\nexport { DataTable as MDBDataTable };","map":{"version":3,"sources":["D:/TraniningGlobits/baitap_level2/client/react/src/app/views/GlobitsDatatableMDB/DataTable.js"],"names":["React","Component","PropTypes","classnames","MDBSelect","DataTableTable","DataTableTableScroll","DataTableEntries","DataTableSearch","DataTableInfo","DataTablePagination","DataTable","state","activePage","columns","props","data","entries","filteredRows","rows","filterOptions","order","pages","search","searchSelect","sorted","translateScrollHead","unsearchable","setData","callback","setState","disableRetreatAfterSorting","filterRows","setUnsearchable","forEach","column","searchable","undefined","push","field","fetchData","link","isPaginateRows","fetch","then","res","json","paginateRows","catch","err","console","log","pagesAmount","Math","ceil","length","paginateRowsInitialy","i","pageEndIndex","slice","handleEntriesChange","value","Array","isArray","handleSearchChange","e","target","onSearch","checkFieldValue","array","searchvalue","checkField","a","b","direction","aField","bField","comp","sort","sortRows","includes","handleSort","onSort","prevState","col","noRecordsFoundLabel","filter","row","key","stringValue","content","getContent","element","children","from","map","el","join","toString","toLowerCase","message","colspan","test","paging","changeActivePage","page","onPageChange","handleTableBodyScroll","scrollLeft","componentDidMount","componentDidUpdate","prevProps","render","autoWidth","barReverse","bordered","borderless","btn","className","dark","displayEntries","entriesLabel","entriesOptions","exportToCSV","fixed","hover","info","infoLabel","maxHeight","noBottomColumns","paginationLabel","responsive","responsiveLg","responsiveMd","responsiveSm","responsiveXl","scrollX","scrollY","searching","searchLabel","small","sortable","striped","tbodyColor","tbodyTextWhite","theadColor","theadTextWhite","attributes","tableClasses","propTypes","bool","node","string","oneOfType","object","number","arrayOf","func","defaultProps","MDBDataTable"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { MDBSelect } from 'mdbreact';\nimport DataTableTable from './DataTableTable';\nimport DataTableTableScroll from './DataTableTableScroll';\nimport DataTableEntries from '../GlobitsDatatableMDB/DataTableEntries';\nimport DataTableSearch from './DataTableSearch';\nimport DataTableInfo from './DataTableInfo';\nimport DataTablePagination from './DataTablePagination';\n\n\nclass DataTable extends Component {\n  state = {\n    activePage: 0,\n    columns: this.props.data.columns || [],\n    entries: this.props.entries,\n    filteredRows: this.props.data.rows || [],\n    filterOptions: [],\n    order: this.props.order || [],\n    pages: [],\n    rows: this.props.data.rows || [],\n    search: '',\n    searchSelect: '',\n    sorted: false,\n    translateScrollHead: 0,\n    unsearchable: []\n  };\n\n  componentDidMount() {\n    const { data, paging } = this.props;\n    const { order, columns, pages, rows } = this.state;\n\n    if (typeof data === 'string') {\n      this.fetchData(data, this.paginateRows);\n    }\n\n    \n    if (order.length > 0) {\n      this.handleSort(order[0], order[1]);\n    } else {\n      this.handleSort();\n    }\n\n    this.setUnsearchable(columns);\n\n    if (paging) {\n      this.paginateRowsInitialy();\n    } else {\n      pages.push(rows);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { columns } = this.state;\n    const { data } = this.props;\n\n    if (prevProps.data !== data) {\n      typeof data === 'string'\n        ? this.fetchData(data)\n        : this.setData(data.rows, data.columns, this.paginateRows);\n\n      this.setUnsearchable(columns);\n      this.filterRows();\n    }\n  }\n\n  setData = (rows = [], columns = [], callback) => {\n    this.setState(\n      () => ({\n        columns,\n        rows,\n        filteredRows: this.props.disableRetreatAfterSorting\n          ? this.filterRows()\n          : rows\n      }),\n      callback && typeof callback === 'function' && (() => callback())\n    );\n  };\n\n  setUnsearchable = columns => {\n    const unsearchable = [];\n\n    columns.forEach(column => {\n      if (column.searchable !== undefined && column.searchable === false) {\n        unsearchable.push(column.field);\n      }\n    });\n\n    this.setState({ unsearchable });\n  };\n\n  fetchData = (link, isPaginateRows) => {\n    fetch(link)\n      .then(res => res.json())\n      .then(json =>\n        this.setData(\n          json.rows,\n          json.columns,\n          isPaginateRows ? this.paginateRows : null\n        )\n      )\n      .catch(err => console.log(err));\n  };\n\n  // findout how many pages there are need to be, then slice rows into pages\n  pagesAmount = () =>\n    Math.ceil(this.state.filteredRows.length / this.state.entries);\n\n  paginateRowsInitialy = () => {\n    const { rows, entries, pages } = this.state;\n\n    const pagesAmount = this.pagesAmount();\n\n    for (let i = 1; i <= pagesAmount; i++) {\n      const pageEndIndex = i * entries;\n      pages.push(rows.slice(pageEndIndex - entries, pageEndIndex));\n    }\n  };\n\n  handleEntriesChange = value => {\n    this.setState({ entries: Array.isArray(value) ? value[0] : value }, () =>\n      this.paginateRows()\n    );\n  };\n\n  handleSearchChange = e => {\n    this.setState(\n      { search: e.target.value },\n      () => this.filterRows(),\n      this.props.onSearch &&\n        typeof this.props.onSearch === 'function' &&\n        this.props.onSearch(e.target.value)\n    );\n  };\n\n  checkFieldValue = (array, field) => {\n    return array[field] && typeof array[field] !== 'string'\n      ? array[field].props.searchvalue\n      : array[field];\n  };\n\n  checkField = (field, a, b, direction) => {\n    const [aField, bField] = [\n      this.checkFieldValue(a, field),\n      this.checkFieldValue(b, field)\n    ];\n\n    let comp = aField > bField ? -1 : 1;\n    if (direction === 'asc') {\n      comp *= -1;\n    }\n\n    return comp;\n  };\n\n  sort = (rows, sortRows, field, direction) => {\n    rows.sort((a, b) => {\n      if (sortRows && sortRows.includes(field)) {\n        return this.checkField(field, a, b, direction);\n      }\n\n      return direction === 'asc'\n        ? a[field] < b[field]\n          ? -1\n          : 1\n        : a[field] > b[field]\n        ? -1\n        : 1;\n    });\n  };\n\n  handleSort = (field, sort) => {\n    const { onSort } = this.props;\n\n    if (sort === 'disabled') {\n      return;\n    }\n\n    this.setState(\n      prevState => {\n        const { sortRows } = this.props;\n        const { rows, columns } = prevState;\n        const direction = sort === 'desc' ? 'desc' : 'asc';\n\n        this.sort(rows, sortRows, field, direction);\n\n        columns.forEach(col => {\n          if (col.sort === 'disabled') {\n            return;\n          }\n\n          col.sort =\n            col.field === field ? (col.sort === 'desc' ? 'asc' : 'desc') : '';\n        });\n\n        return {\n          rows,\n          columns,\n          sorted: true\n        };\n      },\n      () => this.filterRows()\n    );\n\n    onSort &&\n      typeof onSort === 'function' &&\n      onSort({ column: field, direction: sort === 'desc' ? 'desc' : 'asc' });\n  };\n\n  filterRows = (search = this.state.search) => {\n    const { unsearchable } = this.state;\n    const { sortRows, noRecordsFoundLabel } = this.props;\n\n    this.setState(\n      prevState => {\n        const filteredRows = prevState.rows.filter(row => {\n          for (const key in row) {\n            if (\n              (!unsearchable.length || !unsearchable.includes(key)) &&\n              typeof row[key] !== 'function'\n            ) {\n              let stringValue = '';\n\n              if (sortRows && typeof row[key] !== 'string') {\n                const content = [];\n                const getContent = element =>\n                  typeof element === 'object'\n                    ? element.props.children &&\n                      Array.from(element.props.children).map(el =>\n                        getContent(el)\n                      )\n                    : content.push(element);\n\n                getContent(row[key]);\n                stringValue = content.join('');\n              } else if (row[key]) {\n                stringValue = row[key].toString();\n              }\n              if (stringValue.toLowerCase().includes(search.toLowerCase())) {\n                return true;\n              }\n            }\n          }\n          return false;\n        });\n\n        if (filteredRows.length === 0) {\n          filteredRows.push({\n            message: noRecordsFoundLabel,\n            colspan: prevState.columns.length\n          });\n        }\n        let test = {};\n        if (this.props.disableRetreatAfterSorting) {\n          test = {\n            filteredRows,\n            activePage: (prevState.activePage =\n              prevState.activePage < prevState.pages.length ||\n              prevState.activePage === 0\n                ? prevState.activePage\n                : prevState.pages.length - 1)\n          };\n        } else if (!this.props.disableRetreatAfterSorting) {\n          test = { filteredRows, activePage: 0 };\n        }\n\n        return test;\n      },\n      () => this.paginateRows()\n    );\n  };\n\n  paginateRows = () => {\n    const pagesAmount = this.pagesAmount();\n\n    this.setState(prevState => {\n      let { pages, entries, filteredRows, activePage } = prevState;\n      const { paging, disableRetreatAfterSorting } = this.props;\n\n      pages = [];\n\n      if (paging) {\n        for (let i = 1; i <= pagesAmount; i++) {\n          const pageEndIndex = i * entries;\n          pages.push(filteredRows.slice(pageEndIndex - entries, pageEndIndex));\n        }\n        if (!disableRetreatAfterSorting) {\n          activePage =\n            activePage < pages.length || activePage === 0\n              ? activePage\n              : pages.length - 1;\n        }\n      } else {\n        pages.push(filteredRows);\n        activePage = 0;\n      }\n      return { pages, filteredRows, activePage };\n    });\n  };\n\n  changeActivePage = page => {\n    const { onPageChange } = this.props;\n    this.setState({ activePage: page });\n\n    onPageChange &&\n      typeof onPageChange === 'function' &&\n      onPageChange({ activePage: page + 1, pagesAmount: this.pagesAmount() });\n  };\n\n  handleTableBodyScroll = e => {\n    this.setState({ translateScrollHead: e.target.scrollLeft });\n  };\n\n  \n\n  render() {\n    const {\n      autoWidth,\n      barReverse,\n      bordered,\n      borderless,\n      btn,\n      children,\n      className,\n      dark,\n      data,\n      disableRetreatAfterSorting,\n      displayEntries,\n      entriesLabel,\n      entriesOptions,\n      exportToCSV,\n      filter,\n      fixed,\n      hover,\n      info,\n      infoLabel,\n      maxHeight,\n      noBottomColumns,\n      noRecordsFoundLabel,\n      onPageChange,\n      onSearch,\n      onSort,\n      order,\n      pagesAmount,\n      paginationLabel,\n      paging,\n      responsive,\n      responsiveLg,\n      responsiveMd,\n      responsiveSm,\n      responsiveXl,\n      scrollX,\n      scrollY,\n      searching,\n      searchLabel,\n      small,\n      sortable,\n      sortRows,\n      striped,\n      tbodyColor,\n      tbodyTextWhite,\n      theadColor,\n      theadTextWhite,\n      ...attributes\n    } = this.props;\n\n    const {\n      columns,\n      entries,\n      filteredRows,\n      filterOptions,\n      pages,\n      activePage,\n      search,\n      sorted,\n      translateScrollHead\n    } = this.state;\n\n    const tableClasses = classnames(\n      'dataTables_wrapper dt-bootstrap4',\n      className\n    );\n\n    return (\n      <div data-test='datatable' className={tableClasses}>\n        <div className={`row${barReverse ? ' flex-row-reverse' : ''}`}>\n          <DataTableEntries\n            paging={paging}\n            displayEntries={displayEntries}\n            entries={entries}\n            handleEntriesChange={this.handleEntriesChange}\n            entriesArr={entriesOptions}\n            label={entriesLabel}\n            barReverse={barReverse}\n          />\n          <DataTableSearch\n            handleSearchChange={this.handleSearchChange}\n            search={search}\n            searching={searching}\n            label={searchLabel}\n            barReverse={barReverse}\n          />\n        </div>\n        {!scrollY && !scrollX && (\n          <div className='row'>\n            <DataTableTable\n              autoWidth={autoWidth}\n              bordered={bordered}\n              borderless={borderless}\n              btn={btn}\n              dark={dark}\n              fixed={fixed}\n              hover={hover}\n              noBottomColumns={noBottomColumns}\n              noRecordsFoundLabel={noRecordsFoundLabel}\n              responsive={responsive}\n              responsiveSm={responsiveSm}\n              responsiveMd={responsiveMd}\n              responsiveLg={responsiveLg}\n              responsiveXl={responsiveXl}\n              small={small}\n              striped={striped}\n              theadColor={theadColor}\n              theadTextWhite={theadTextWhite}\n              columns={columns}\n              handleSort={this.handleSort}\n              sortable={sortable}\n              tbodyColor={tbodyColor}\n              tbodyTextWhite={tbodyTextWhite}\n              rows={pages[activePage]}\n              sorted={sorted}\n              {...attributes}\n            />\n          </div>\n        )}\n        {(scrollY || scrollX) && (\n          <div className='row'>\n            <DataTableTableScroll\n              autoWidth={autoWidth}\n              bordered={bordered}\n              borderless={borderless}\n              btn={btn}\n              dark={dark}\n              fixed={fixed}\n              handleTableBodyScroll={this.handleTableBodyScroll}\n              hover={hover}\n              maxHeight={maxHeight}\n              responsive={responsive}\n              responsiveSm={responsiveSm}\n              responsiveMd={responsiveMd}\n              responsiveLg={responsiveLg}\n              responsiveXl={responsiveXl}\n              scrollX={scrollX}\n              scrollY={scrollY}\n              small={small}\n              striped={striped}\n              theadColor={theadColor}\n              theadTextWhite={theadTextWhite}\n              columns={columns}\n              handleSort={this.handleSort}\n              sortable={sortable}\n              sorted={sorted}\n              tbodyColor={tbodyColor}\n              tbodyTextWhite={tbodyTextWhite}\n              rows={pages[activePage]}\n              translateScrollHead={translateScrollHead}\n              {...attributes}\n            />\n          </div>\n        )}\n        {paging && (\n          <div className='row'>\n            <DataTableInfo\n              activePage={activePage}\n              entries={entries}\n              filteredRows={filteredRows}\n              info={info}\n              pages={pages}\n              label={infoLabel}\n              noRecordsFoundLabel={noRecordsFoundLabel}\n            />\n            <DataTablePagination\n              activePage={activePage}\n              changeActivePage={this.changeActivePage}\n              pages={pages}\n              pagesAmount={pagesAmount}\n              label={paginationLabel}\n            />\n          </div>\n        )}\n\n        \n      </div>\n    );\n  }\n}\n\nDataTable.propTypes = {\n  autoWidth: PropTypes.bool,\n  barReverse: PropTypes.bool,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  btn: PropTypes.bool,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  dark: PropTypes.bool,\n  data: PropTypes.oneOfType([PropTypes.object, PropTypes.string]),\n  disableRetreatAfterSorting: PropTypes.bool,\n  displayEntries: PropTypes.bool,\n  entries: PropTypes.number,\n  entriesLabel: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n    PropTypes.object\n  ]),\n  entriesOptions: PropTypes.arrayOf(PropTypes.number),\n  exportToCSV: PropTypes.bool,\n  filter: PropTypes.string,\n  fixed: PropTypes.bool,\n  hover: PropTypes.bool,\n  info: PropTypes.bool,\n  infoLabel: PropTypes.oneOfType([\n    PropTypes.array,\n    PropTypes.object,\n    PropTypes.string\n  ]),\n  maxHeight: PropTypes.string,\n  noBottomColumns: PropTypes.bool,\n  noRecordsFoundLabel: PropTypes.string,\n  onPageChange: PropTypes.func,\n  onSearch: PropTypes.func,\n  onSort: PropTypes.func,\n  order: PropTypes.arrayOf(PropTypes.string),\n  pagesAmount: PropTypes.number,\n  paginationLabel: PropTypes.arrayOf(PropTypes.string),\n  paging: PropTypes.bool,\n  responsive: PropTypes.bool,\n  responsiveLg: PropTypes.bool,\n  responsiveMd: PropTypes.bool,\n  responsiveSm: PropTypes.bool,\n  responsiveXl: PropTypes.bool,\n  scrollX: PropTypes.bool,\n  scrollY: PropTypes.bool,\n  searching: PropTypes.bool,\n  searchLabel: PropTypes.string,\n  small: PropTypes.bool,\n  sortable: PropTypes.bool,\n  sortRows: PropTypes.arrayOf(PropTypes.string),\n  striped: PropTypes.bool,\n  tbodyColor: PropTypes.string,\n  tbodyTextWhite: PropTypes.bool,\n  theadColor: PropTypes.string,\n  theadTextWhite: PropTypes.bool\n};\n\nDataTable.defaultProps = {\n  autoWidth: false,\n  barReverse: false,\n  bordered: false,\n  borderless: false,\n  btn: false,\n  dark: false,\n  data: {\n    columns: [],\n    rows: []\n  },\n  disableRetreatAfterSorting: false,\n  displayEntries: true,\n  entries: 10,\n  entriesLabel: 'Show entries',\n  entriesOptions: [10, 20, 50, 100],\n  exportToCSV: false,\n  fixed: false,\n  hover: false,\n  info: true,\n  infoLabel: ['Showing', 'to', 'of', 'entries'],\n  noRecordsFoundLabel: 'No matching records found',\n  noBottomColumns: false,\n  order: [],\n  pagesAmount: 8,\n  paging: true,\n  paginationLabel: ['Previous', 'Next'],\n  responsive: false,\n  responsiveSm: false,\n  responsiveMd: false,\n  responsiveLg: false,\n  responsiveXl: false,\n  searching: true,\n  searchLabel: 'Search',\n  scrollX: false,\n  scrollY: false,\n  sortable: true,\n  small: false,\n  striped: false,\n  theadColor: '',\n  theadTextWhite: false,\n  tbodyColor: '',\n  tbodyTextWhite: false\n};\n\nexport default DataTable;\nexport { DataTable as MDBDataTable };\n"]},"metadata":{},"sourceType":"module"}