{"ast":null,"code":"import _uniqueId from \"lodash/uniqueId\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { PropTypes as CustomPropTypes, TextSize, Helpers, LabelHelpers, VictoryLabel, VictoryTheme, VictoryPortal } from \"victory-core\";\nimport Flyout from \"./flyout\";\nvar fallbackProps = {\n  cornerRadius: 5,\n  pointerLength: 10,\n  pointerWidth: 10\n};\n\nvar VictoryTooltip = /*#__PURE__*/function (_React$Component) {\n  _inherits(VictoryTooltip, _React$Component);\n\n  function VictoryTooltip(props) {\n    var _this;\n\n    _classCallCheck(this, VictoryTooltip);\n\n    _this = _possibleConstructorReturn(this, (VictoryTooltip.__proto__ || Object.getPrototypeOf(VictoryTooltip)).call(this, props));\n    _this.id = props.id === undefined ? _uniqueId(\"tooltip-\") : props.id;\n    return _this;\n  }\n\n  _createClass(VictoryTooltip, [{\n    key: \"getDefaultOrientation\",\n    value: function getDefaultOrientation(props) {\n      var datum = props.datum,\n          horizontal = props.horizontal,\n          polar = props.polar;\n\n      if (!polar) {\n        var positive = horizontal ? \"right\" : \"top\";\n        var negative = horizontal ? \"left\" : \"bottom\";\n        return datum && datum.y < 0 ? negative : positive;\n      } else {\n        return this.getPolarOrientation(props, datum);\n      }\n    }\n  }, {\n    key: \"getPolarOrientation\",\n    value: function getPolarOrientation(props, datum) {\n      var degrees = LabelHelpers.getDegrees(props, datum);\n      var placement = props.labelPlacement || \"vertical\";\n\n      if (placement === \" vertical\") {\n        return this.getVerticalOrientations(degrees);\n      } else if (placement === \"parallel\") {\n        return degrees < 90 || degrees > 270 ? \"right\" : \"left\";\n      } else {\n        return degrees > 180 ? \"bottom\" : \"top\";\n      }\n    }\n  }, {\n    key: \"getVerticalOrientations\",\n    value: function getVerticalOrientations(degrees) {\n      // eslint-disable-next-line no-magic-numbers\n      if (degrees < 45 || degrees > 315) {\n        return \"right\"; // eslint-disable-next-line no-magic-numbers\n      } else if (degrees >= 45 && degrees <= 135) {\n        return \"top\"; // eslint-disable-next-line no-magic-numbers\n      } else if (degrees > 135 && degrees < 225) {\n        return \"left\";\n      } else {\n        return \"bottom\";\n      }\n    }\n  }, {\n    key: \"getEvaluatedProps\",\n    value: function getEvaluatedProps(props) {\n      var horizontal = props.horizontal,\n          datum = props.datum,\n          pointerLength = props.pointerLength,\n          pointerWidth = props.pointerWidth,\n          cornerRadius = props.cornerRadius,\n          width = props.width,\n          height = props.height,\n          dx = props.dx,\n          dy = props.dy,\n          text = props.text,\n          active = props.active;\n      var style = Array.isArray(props.style) ? props.style.map(function (s) {\n        return Helpers.evaluateStyle(s, datum, active);\n      }) : Helpers.evaluateStyle(props.style, datum, active);\n      var flyoutStyle = Helpers.evaluateStyle(props.flyoutStyle, datum, active);\n      var padding = flyoutStyle && flyoutStyle.padding || 0;\n      var defaultDx = horizontal ? padding : 0;\n      var defaultDy = horizontal ? 0 : padding;\n      var orientation = Helpers.evaluateProp(props.orientation, datum, active) || this.getDefaultOrientation(props);\n      return _assign({}, props, {\n        style: style,\n        flyoutStyle: flyoutStyle,\n        orientation: orientation,\n        dx: dx !== undefined ? Helpers.evaluateProp(dx, datum, active) : defaultDx,\n        dy: dy !== undefined ? Helpers.evaluateProp(dy, datum, active) : defaultDy,\n        cornerRadius: Helpers.evaluateProp(cornerRadius, datum, active),\n        pointerLength: Helpers.evaluateProp(pointerLength, datum, active),\n        pointerWidth: Helpers.evaluateProp(pointerWidth, datum, active),\n        width: Helpers.evaluateProp(width, datum, active),\n        height: Helpers.evaluateProp(height, datum, active),\n        active: Helpers.evaluateProp(active, datum, active),\n        text: Helpers.evaluateProp(text, datum, active)\n      });\n    }\n  }, {\n    key: \"getCalculatedValues\",\n    value: function getCalculatedValues(props) {\n      var style = props.style,\n          text = props.text,\n          datum = props.datum,\n          active = props.active;\n      var theme = props.theme || VictoryTheme.grayscale;\n      var defaultLabelStyles = theme && theme.tooltip && theme.tooltip.style ? theme.tooltip.style : {};\n      var baseLabelStyle = Array.isArray(style) ? style.map(function (s) {\n        return _defaults({}, s, defaultLabelStyles);\n      }) : _defaults({}, style, defaultLabelStyles);\n      var defaultFlyoutStyles = theme && theme.tooltip && theme.tooltip.flyoutStyle ? theme.tooltip.flyoutStyle : {};\n      var flyoutStyle = props.flyoutStyle ? _defaults({}, props.flyoutStyle, defaultFlyoutStyles) : defaultFlyoutStyles;\n      var labelStyle = Array.isArray(baseLabelStyle) ? baseLabelStyle.map(function (s) {\n        return Helpers.evaluateStyle(s, datum, active);\n      }) : Helpers.evaluateStyle(baseLabelStyle, datum, active);\n      var labelSize = TextSize.approximateTextSize(text, labelStyle);\n      var flyoutDimensions = this.getDimensions(props, labelSize, labelStyle);\n      var flyoutCenter = this.getFlyoutCenter(props, flyoutDimensions);\n      var transform = this.getTransform(props);\n      return {\n        labelStyle: labelStyle,\n        flyoutStyle: flyoutStyle,\n        labelSize: labelSize,\n        flyoutDimensions: flyoutDimensions,\n        flyoutCenter: flyoutCenter,\n        transform: transform\n      };\n    }\n  }, {\n    key: \"getTransform\",\n    value: function getTransform(props) {\n      var x = props.x,\n          y = props.y,\n          style = props.style;\n      var labelStyle = style || {};\n      var angle = labelStyle.angle || props.angle || this.getDefaultAngle(props);\n      return angle ? \"rotate(\".concat(angle, \" \").concat(x, \" \").concat(y, \")\") : undefined;\n    } // eslint-disable-next-line complexity\n\n  }, {\n    key: \"getDefaultAngle\",\n    value: function getDefaultAngle(props) {\n      var polar = props.polar,\n          labelPlacement = props.labelPlacement,\n          orientation = props.orientation,\n          datum = props.datum;\n\n      if (!polar || !labelPlacement || labelPlacement === \"vertical\") {\n        return 0;\n      }\n\n      var degrees = LabelHelpers.getDegrees(props, datum);\n      var sign = degrees > 90 && degrees < 180 || degrees > 270 ? 1 : -1;\n      var labelRotation = labelPlacement === \"perpendicular\" ? 0 : 90;\n      var angle;\n\n      if (degrees === 0 || degrees === 180) {\n        angle = orientation === \"top\" && degrees === 180 ? 270 : 90;\n      } else if (degrees > 0 && degrees < 180) {\n        angle = 90 - degrees;\n      } else if (degrees > 180 && degrees < 360) {\n        angle = 270 - degrees;\n      }\n\n      return angle + sign * labelRotation;\n    }\n  }, {\n    key: \"getFlyoutCenter\",\n    value: function getFlyoutCenter(props, dimensions) {\n      var x = props.x,\n          y = props.y,\n          dx = props.dx,\n          dy = props.dy,\n          pointerLength = props.pointerLength,\n          orientation = props.orientation;\n      var height = dimensions.height,\n          width = dimensions.width;\n      var xSign = orientation === \"left\" ? -1 : 1;\n      var ySign = orientation === \"bottom\" ? -1 : 1;\n      return {\n        x: orientation === \"left\" || orientation === \"right\" ? x + xSign * (pointerLength + width / 2 + dx) : x + dx,\n        y: orientation === \"top\" || orientation === \"bottom\" ? y - ySign * (pointerLength + height / 2 + dy) : y - dy\n      };\n    }\n  }, {\n    key: \"getLabelPadding\",\n    value: function getLabelPadding(style) {\n      if (!style) {\n        return 0;\n      }\n\n      var paddings = Array.isArray(style) ? style.map(function (s) {\n        return s.padding;\n      }) : [style.padding];\n      return Math.max.apply(Math, _toConsumableArray(paddings).concat([0]));\n    }\n  }, {\n    key: \"getDimensions\",\n    value: function getDimensions(props, labelSize, labelStyle) {\n      var orientation = props.orientation,\n          cornerRadius = props.cornerRadius,\n          pointerLength = props.pointerLength,\n          pointerWidth = props.pointerWidth;\n      var padding = this.getLabelPadding(labelStyle);\n\n      var getHeight = function getHeight() {\n        var calculatedHeight = labelSize.height + padding;\n        var minHeight = orientation === \"top\" || orientation === \"bottom\" ? 2 * cornerRadius : 2 * cornerRadius + pointerWidth;\n        return Math.max(minHeight, calculatedHeight);\n      };\n\n      var getWidth = function getWidth() {\n        var calculatedWidth = labelSize.width + padding;\n        var minWidth = orientation === \"left\" || orientation === \"right\" ? 2 * cornerRadius + pointerLength : 2 * cornerRadius;\n        return Math.max(minWidth, calculatedWidth);\n      };\n\n      return {\n        height: props.height || getHeight(props, labelSize, orientation) + padding / 2,\n        width: props.width || getWidth(props, labelSize, orientation) + padding\n      };\n    }\n  }, {\n    key: \"getLabelProps\",\n    value: function getLabelProps(props, calculatedValues) {\n      var flyoutCenter = calculatedValues.flyoutCenter,\n          labelStyle = calculatedValues.labelStyle,\n          labelSize = calculatedValues.labelSize,\n          dy = calculatedValues.dy,\n          dx = calculatedValues.dx;\n      var text = props.text,\n          datum = props.datum,\n          labelComponent = props.labelComponent,\n          index = props.index;\n      var textAnchor = (Array.isArray(labelStyle) && labelStyle.length ? labelStyle[0].textAnchor : labelStyle.textAnchor) || \"middle\";\n\n      var getLabelX = function getLabelX() {\n        var sign = textAnchor === \"end\" ? -1 : 1;\n        return flyoutCenter.x - sign * (labelSize.width / 2);\n      };\n\n      return _defaults({}, labelComponent.props, {\n        key: \"\".concat(this.id, \"-label-\").concat(index),\n        text: text,\n        datum: datum,\n        textAnchor: textAnchor,\n        dy: dy,\n        dx: dx,\n        style: labelStyle,\n        x: !textAnchor || textAnchor === \"middle\" ? flyoutCenter.x : getLabelX(),\n        y: flyoutCenter.y,\n        verticalAnchor: \"middle\",\n        angle: labelStyle.angle\n      });\n    }\n  }, {\n    key: \"getFlyoutProps\",\n    value: function getFlyoutProps(props, calculatedValues) {\n      var flyoutDimensions = calculatedValues.flyoutDimensions,\n          flyoutStyle = calculatedValues.flyoutStyle;\n      var x = props.x,\n          y = props.y,\n          dx = props.dx,\n          dy = props.dy,\n          datum = props.datum,\n          index = props.index,\n          orientation = props.orientation,\n          pointerLength = props.pointerLength,\n          pointerWidth = props.pointerWidth,\n          cornerRadius = props.cornerRadius,\n          events = props.events,\n          flyoutComponent = props.flyoutComponent;\n      return _defaults({}, flyoutComponent.props, {\n        x: x,\n        y: y,\n        dx: dx,\n        dy: dy,\n        datum: datum,\n        index: index,\n        orientation: orientation,\n        pointerLength: pointerLength,\n        pointerWidth: pointerWidth,\n        cornerRadius: cornerRadius,\n        events: events,\n        key: \"\".concat(this.id, \"-tooltip-\").concat(index),\n        width: flyoutDimensions.width,\n        height: flyoutDimensions.height,\n        style: flyoutStyle\n      });\n    } // Overridden in victory-core-native\n\n  }, {\n    key: \"renderTooltip\",\n    value: function renderTooltip(props) {\n      var evaluatedProps = this.getEvaluatedProps(props);\n      var flyoutComponent = evaluatedProps.flyoutComponent,\n          labelComponent = evaluatedProps.labelComponent,\n          groupComponent = evaluatedProps.groupComponent,\n          active = evaluatedProps.active,\n          renderInPortal = evaluatedProps.renderInPortal;\n\n      if (!active) {\n        return renderInPortal ? React.createElement(VictoryPortal, null, null) : null;\n      }\n\n      var calculatedValues = this.getCalculatedValues(evaluatedProps);\n      var children = [React.cloneElement(flyoutComponent, this.getFlyoutProps(evaluatedProps, calculatedValues)), React.cloneElement(labelComponent, this.getLabelProps(evaluatedProps, calculatedValues))];\n      var tooltip = React.cloneElement(groupComponent, {\n        role: \"presentation\",\n        transform: calculatedValues.transform\n      }, children);\n      return renderInPortal ? React.createElement(VictoryPortal, null, tooltip) : tooltip;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = Helpers.modifyProps(this.props, fallbackProps, \"tooltip\");\n      return this.renderTooltip(props);\n    }\n  }]);\n\n  return VictoryTooltip;\n}(React.Component);\n\nObject.defineProperty(VictoryTooltip, \"displayName\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"VictoryTooltip\"\n});\nObject.defineProperty(VictoryTooltip, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    activateData: PropTypes.bool,\n    active: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    angle: PropTypes.number,\n    cornerRadius: PropTypes.oneOfType([CustomPropTypes.nonNegative, PropTypes.func]),\n    data: PropTypes.array,\n    datum: PropTypes.object,\n    dx: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n    dy: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n    events: PropTypes.object,\n    flyoutComponent: PropTypes.element,\n    flyoutStyle: PropTypes.object,\n    groupComponent: PropTypes.element,\n    height: PropTypes.oneOfType([CustomPropTypes.nonNegative, PropTypes.func]),\n    horizontal: PropTypes.bool,\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    index: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    labelComponent: PropTypes.element,\n    orientation: PropTypes.oneOfType([PropTypes.oneOf([\"top\", \"bottom\", \"left\", \"right\"]), PropTypes.func]),\n    pointerLength: PropTypes.oneOfType([CustomPropTypes.nonNegative, PropTypes.func]),\n    pointerWidth: PropTypes.oneOfType([CustomPropTypes.nonNegative, PropTypes.func]),\n    polar: PropTypes.bool,\n    renderInPortal: PropTypes.bool,\n    style: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    text: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func, PropTypes.array]),\n    theme: PropTypes.object,\n    width: PropTypes.oneOfType([CustomPropTypes.nonNegative, PropTypes.func]),\n    x: PropTypes.number,\n    y: PropTypes.number\n  }\n});\nObject.defineProperty(VictoryTooltip, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    active: false,\n    renderInPortal: true,\n    labelComponent: React.createElement(VictoryLabel, null),\n    flyoutComponent: React.createElement(Flyout, null),\n    groupComponent: React.createElement(\"g\", null)\n  }\n});\nObject.defineProperty(VictoryTooltip, \"defaultEvents\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: function value(props) {\n    return [{\n      target: \"data\",\n      eventHandlers: {\n        onMouseOver: function onMouseOver() {\n          return props.activateData ? [{\n            target: \"labels\",\n            mutation: function mutation() {\n              return {\n                active: true\n              };\n            }\n          }, {\n            target: \"data\",\n            mutation: function mutation() {\n              return {\n                active: true\n              };\n            }\n          }] : [{\n            target: \"labels\",\n            mutation: function mutation() {\n              return {\n                active: true\n              };\n            }\n          }];\n        },\n        onTouchStart: function onTouchStart() {\n          return props.activateData ? [{\n            target: \"labels\",\n            mutation: function mutation() {\n              return {\n                active: true\n              };\n            }\n          }, {\n            target: \"data\",\n            mutation: function mutation() {\n              return {\n                active: true\n              };\n            }\n          }] : [{\n            target: \"labels\",\n            mutation: function mutation() {\n              return {\n                active: true\n              };\n            }\n          }];\n        },\n        onMouseOut: function onMouseOut() {\n          return props.activateData ? [{\n            target: \"labels\",\n            mutation: function mutation() {\n              return {\n                active: undefined\n              };\n            }\n          }, {\n            target: \"data\",\n            mutation: function mutation() {\n              return {\n                active: undefined\n              };\n            }\n          }] : [{\n            target: \"labels\",\n            mutation: function mutation() {\n              return {\n                active: undefined\n              };\n            }\n          }];\n        },\n        onTouchEnd: function onTouchEnd() {\n          return props.activateData ? [{\n            target: \"labels\",\n            mutation: function mutation() {\n              return {\n                active: undefined\n              };\n            }\n          }, {\n            target: \"data\",\n            mutation: function mutation() {\n              return {\n                active: undefined\n              };\n            }\n          }] : [{\n            target: \"labels\",\n            mutation: function mutation() {\n              return {\n                active: undefined\n              };\n            }\n          }];\n        }\n      }\n    }];\n  }\n});\nexport { VictoryTooltip as default };","map":{"version":3,"sources":["D:/TraniningGlobits/baitap_level2/client/react/node_modules/victory-tooltip/es/victory-tooltip.js"],"names":["_uniqueId","_defaults","_assign","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Object","prototype","toString","call","Array","from","isArray","i","arr2","length","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","React","PropTypes","CustomPropTypes","TextSize","Helpers","LabelHelpers","VictoryLabel","VictoryTheme","VictoryPortal","Flyout","fallbackProps","cornerRadius","pointerLength","pointerWidth","VictoryTooltip","_React$Component","_this","getPrototypeOf","id","undefined","getDefaultOrientation","datum","horizontal","polar","positive","negative","y","getPolarOrientation","degrees","getDegrees","placement","labelPlacement","getVerticalOrientations","getEvaluatedProps","width","height","dx","dy","text","active","style","map","s","evaluateStyle","flyoutStyle","padding","defaultDx","defaultDy","orientation","evaluateProp","getCalculatedValues","theme","grayscale","defaultLabelStyles","tooltip","baseLabelStyle","defaultFlyoutStyles","labelStyle","labelSize","approximateTextSize","flyoutDimensions","getDimensions","flyoutCenter","getFlyoutCenter","transform","getTransform","x","angle","getDefaultAngle","concat","sign","labelRotation","dimensions","xSign","ySign","getLabelPadding","paddings","Math","max","apply","getHeight","calculatedHeight","minHeight","getWidth","calculatedWidth","minWidth","getLabelProps","calculatedValues","labelComponent","index","textAnchor","getLabelX","verticalAnchor","getFlyoutProps","events","flyoutComponent","renderTooltip","evaluatedProps","groupComponent","renderInPortal","createElement","children","cloneElement","role","render","modifyProps","Component","activateData","bool","oneOfType","func","number","nonNegative","data","array","object","element","string","oneOf","eventHandlers","onMouseOver","mutation","onTouchStart","onMouseOut","onTouchEnd","default"],"mappings":"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","sourcesContent":["import _uniqueId from \"lodash/uniqueId\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { PropTypes as CustomPropTypes, TextSize, Helpers, LabelHelpers, VictoryLabel, VictoryTheme, VictoryPortal } from \"victory-core\";\nimport Flyout from \"./flyout\";\nvar fallbackProps = {\n  cornerRadius: 5,\n  pointerLength: 10,\n  pointerWidth: 10\n};\n\nvar VictoryTooltip =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(VictoryTooltip, _React$Component);\n\n  function VictoryTooltip(props) {\n    var _this;\n\n    _classCallCheck(this, VictoryTooltip);\n\n    _this = _possibleConstructorReturn(this, (VictoryTooltip.__proto__ || Object.getPrototypeOf(VictoryTooltip)).call(this, props));\n    _this.id = props.id === undefined ? _uniqueId(\"tooltip-\") : props.id;\n    return _this;\n  }\n\n  _createClass(VictoryTooltip, [{\n    key: \"getDefaultOrientation\",\n    value: function getDefaultOrientation(props) {\n      var datum = props.datum,\n          horizontal = props.horizontal,\n          polar = props.polar;\n\n      if (!polar) {\n        var positive = horizontal ? \"right\" : \"top\";\n        var negative = horizontal ? \"left\" : \"bottom\";\n        return datum && datum.y < 0 ? negative : positive;\n      } else {\n        return this.getPolarOrientation(props, datum);\n      }\n    }\n  }, {\n    key: \"getPolarOrientation\",\n    value: function getPolarOrientation(props, datum) {\n      var degrees = LabelHelpers.getDegrees(props, datum);\n      var placement = props.labelPlacement || \"vertical\";\n\n      if (placement === \" vertical\") {\n        return this.getVerticalOrientations(degrees);\n      } else if (placement === \"parallel\") {\n        return degrees < 90 || degrees > 270 ? \"right\" : \"left\";\n      } else {\n        return degrees > 180 ? \"bottom\" : \"top\";\n      }\n    }\n  }, {\n    key: \"getVerticalOrientations\",\n    value: function getVerticalOrientations(degrees) {\n      // eslint-disable-next-line no-magic-numbers\n      if (degrees < 45 || degrees > 315) {\n        return \"right\"; // eslint-disable-next-line no-magic-numbers\n      } else if (degrees >= 45 && degrees <= 135) {\n        return \"top\"; // eslint-disable-next-line no-magic-numbers\n      } else if (degrees > 135 && degrees < 225) {\n        return \"left\";\n      } else {\n        return \"bottom\";\n      }\n    }\n  }, {\n    key: \"getEvaluatedProps\",\n    value: function getEvaluatedProps(props) {\n      var horizontal = props.horizontal,\n          datum = props.datum,\n          pointerLength = props.pointerLength,\n          pointerWidth = props.pointerWidth,\n          cornerRadius = props.cornerRadius,\n          width = props.width,\n          height = props.height,\n          dx = props.dx,\n          dy = props.dy,\n          text = props.text,\n          active = props.active;\n      var style = Array.isArray(props.style) ? props.style.map(function (s) {\n        return Helpers.evaluateStyle(s, datum, active);\n      }) : Helpers.evaluateStyle(props.style, datum, active);\n      var flyoutStyle = Helpers.evaluateStyle(props.flyoutStyle, datum, active);\n      var padding = flyoutStyle && flyoutStyle.padding || 0;\n      var defaultDx = horizontal ? padding : 0;\n      var defaultDy = horizontal ? 0 : padding;\n      var orientation = Helpers.evaluateProp(props.orientation, datum, active) || this.getDefaultOrientation(props);\n      return _assign({}, props, {\n        style: style,\n        flyoutStyle: flyoutStyle,\n        orientation: orientation,\n        dx: dx !== undefined ? Helpers.evaluateProp(dx, datum, active) : defaultDx,\n        dy: dy !== undefined ? Helpers.evaluateProp(dy, datum, active) : defaultDy,\n        cornerRadius: Helpers.evaluateProp(cornerRadius, datum, active),\n        pointerLength: Helpers.evaluateProp(pointerLength, datum, active),\n        pointerWidth: Helpers.evaluateProp(pointerWidth, datum, active),\n        width: Helpers.evaluateProp(width, datum, active),\n        height: Helpers.evaluateProp(height, datum, active),\n        active: Helpers.evaluateProp(active, datum, active),\n        text: Helpers.evaluateProp(text, datum, active)\n      });\n    }\n  }, {\n    key: \"getCalculatedValues\",\n    value: function getCalculatedValues(props) {\n      var style = props.style,\n          text = props.text,\n          datum = props.datum,\n          active = props.active;\n      var theme = props.theme || VictoryTheme.grayscale;\n      var defaultLabelStyles = theme && theme.tooltip && theme.tooltip.style ? theme.tooltip.style : {};\n      var baseLabelStyle = Array.isArray(style) ? style.map(function (s) {\n        return _defaults({}, s, defaultLabelStyles);\n      }) : _defaults({}, style, defaultLabelStyles);\n      var defaultFlyoutStyles = theme && theme.tooltip && theme.tooltip.flyoutStyle ? theme.tooltip.flyoutStyle : {};\n      var flyoutStyle = props.flyoutStyle ? _defaults({}, props.flyoutStyle, defaultFlyoutStyles) : defaultFlyoutStyles;\n      var labelStyle = Array.isArray(baseLabelStyle) ? baseLabelStyle.map(function (s) {\n        return Helpers.evaluateStyle(s, datum, active);\n      }) : Helpers.evaluateStyle(baseLabelStyle, datum, active);\n      var labelSize = TextSize.approximateTextSize(text, labelStyle);\n      var flyoutDimensions = this.getDimensions(props, labelSize, labelStyle);\n      var flyoutCenter = this.getFlyoutCenter(props, flyoutDimensions);\n      var transform = this.getTransform(props);\n      return {\n        labelStyle: labelStyle,\n        flyoutStyle: flyoutStyle,\n        labelSize: labelSize,\n        flyoutDimensions: flyoutDimensions,\n        flyoutCenter: flyoutCenter,\n        transform: transform\n      };\n    }\n  }, {\n    key: \"getTransform\",\n    value: function getTransform(props) {\n      var x = props.x,\n          y = props.y,\n          style = props.style;\n      var labelStyle = style || {};\n      var angle = labelStyle.angle || props.angle || this.getDefaultAngle(props);\n      return angle ? \"rotate(\".concat(angle, \" \").concat(x, \" \").concat(y, \")\") : undefined;\n    } // eslint-disable-next-line complexity\n\n  }, {\n    key: \"getDefaultAngle\",\n    value: function getDefaultAngle(props) {\n      var polar = props.polar,\n          labelPlacement = props.labelPlacement,\n          orientation = props.orientation,\n          datum = props.datum;\n\n      if (!polar || !labelPlacement || labelPlacement === \"vertical\") {\n        return 0;\n      }\n\n      var degrees = LabelHelpers.getDegrees(props, datum);\n      var sign = degrees > 90 && degrees < 180 || degrees > 270 ? 1 : -1;\n      var labelRotation = labelPlacement === \"perpendicular\" ? 0 : 90;\n      var angle;\n\n      if (degrees === 0 || degrees === 180) {\n        angle = orientation === \"top\" && degrees === 180 ? 270 : 90;\n      } else if (degrees > 0 && degrees < 180) {\n        angle = 90 - degrees;\n      } else if (degrees > 180 && degrees < 360) {\n        angle = 270 - degrees;\n      }\n\n      return angle + sign * labelRotation;\n    }\n  }, {\n    key: \"getFlyoutCenter\",\n    value: function getFlyoutCenter(props, dimensions) {\n      var x = props.x,\n          y = props.y,\n          dx = props.dx,\n          dy = props.dy,\n          pointerLength = props.pointerLength,\n          orientation = props.orientation;\n      var height = dimensions.height,\n          width = dimensions.width;\n      var xSign = orientation === \"left\" ? -1 : 1;\n      var ySign = orientation === \"bottom\" ? -1 : 1;\n      return {\n        x: orientation === \"left\" || orientation === \"right\" ? x + xSign * (pointerLength + width / 2 + dx) : x + dx,\n        y: orientation === \"top\" || orientation === \"bottom\" ? y - ySign * (pointerLength + height / 2 + dy) : y - dy\n      };\n    }\n  }, {\n    key: \"getLabelPadding\",\n    value: function getLabelPadding(style) {\n      if (!style) {\n        return 0;\n      }\n\n      var paddings = Array.isArray(style) ? style.map(function (s) {\n        return s.padding;\n      }) : [style.padding];\n      return Math.max.apply(Math, _toConsumableArray(paddings).concat([0]));\n    }\n  }, {\n    key: \"getDimensions\",\n    value: function getDimensions(props, labelSize, labelStyle) {\n      var orientation = props.orientation,\n          cornerRadius = props.cornerRadius,\n          pointerLength = props.pointerLength,\n          pointerWidth = props.pointerWidth;\n      var padding = this.getLabelPadding(labelStyle);\n\n      var getHeight = function () {\n        var calculatedHeight = labelSize.height + padding;\n        var minHeight = orientation === \"top\" || orientation === \"bottom\" ? 2 * cornerRadius : 2 * cornerRadius + pointerWidth;\n        return Math.max(minHeight, calculatedHeight);\n      };\n\n      var getWidth = function () {\n        var calculatedWidth = labelSize.width + padding;\n        var minWidth = orientation === \"left\" || orientation === \"right\" ? 2 * cornerRadius + pointerLength : 2 * cornerRadius;\n        return Math.max(minWidth, calculatedWidth);\n      };\n\n      return {\n        height: props.height || getHeight(props, labelSize, orientation) + padding / 2,\n        width: props.width || getWidth(props, labelSize, orientation) + padding\n      };\n    }\n  }, {\n    key: \"getLabelProps\",\n    value: function getLabelProps(props, calculatedValues) {\n      var flyoutCenter = calculatedValues.flyoutCenter,\n          labelStyle = calculatedValues.labelStyle,\n          labelSize = calculatedValues.labelSize,\n          dy = calculatedValues.dy,\n          dx = calculatedValues.dx;\n      var text = props.text,\n          datum = props.datum,\n          labelComponent = props.labelComponent,\n          index = props.index;\n      var textAnchor = (Array.isArray(labelStyle) && labelStyle.length ? labelStyle[0].textAnchor : labelStyle.textAnchor) || \"middle\";\n\n      var getLabelX = function () {\n        var sign = textAnchor === \"end\" ? -1 : 1;\n        return flyoutCenter.x - sign * (labelSize.width / 2);\n      };\n\n      return _defaults({}, labelComponent.props, {\n        key: \"\".concat(this.id, \"-label-\").concat(index),\n        text: text,\n        datum: datum,\n        textAnchor: textAnchor,\n        dy: dy,\n        dx: dx,\n        style: labelStyle,\n        x: !textAnchor || textAnchor === \"middle\" ? flyoutCenter.x : getLabelX(),\n        y: flyoutCenter.y,\n        verticalAnchor: \"middle\",\n        angle: labelStyle.angle\n      });\n    }\n  }, {\n    key: \"getFlyoutProps\",\n    value: function getFlyoutProps(props, calculatedValues) {\n      var flyoutDimensions = calculatedValues.flyoutDimensions,\n          flyoutStyle = calculatedValues.flyoutStyle;\n      var x = props.x,\n          y = props.y,\n          dx = props.dx,\n          dy = props.dy,\n          datum = props.datum,\n          index = props.index,\n          orientation = props.orientation,\n          pointerLength = props.pointerLength,\n          pointerWidth = props.pointerWidth,\n          cornerRadius = props.cornerRadius,\n          events = props.events,\n          flyoutComponent = props.flyoutComponent;\n      return _defaults({}, flyoutComponent.props, {\n        x: x,\n        y: y,\n        dx: dx,\n        dy: dy,\n        datum: datum,\n        index: index,\n        orientation: orientation,\n        pointerLength: pointerLength,\n        pointerWidth: pointerWidth,\n        cornerRadius: cornerRadius,\n        events: events,\n        key: \"\".concat(this.id, \"-tooltip-\").concat(index),\n        width: flyoutDimensions.width,\n        height: flyoutDimensions.height,\n        style: flyoutStyle\n      });\n    } // Overridden in victory-core-native\n\n  }, {\n    key: \"renderTooltip\",\n    value: function renderTooltip(props) {\n      var evaluatedProps = this.getEvaluatedProps(props);\n      var flyoutComponent = evaluatedProps.flyoutComponent,\n          labelComponent = evaluatedProps.labelComponent,\n          groupComponent = evaluatedProps.groupComponent,\n          active = evaluatedProps.active,\n          renderInPortal = evaluatedProps.renderInPortal;\n\n      if (!active) {\n        return renderInPortal ? React.createElement(VictoryPortal, null, null) : null;\n      }\n\n      var calculatedValues = this.getCalculatedValues(evaluatedProps);\n      var children = [React.cloneElement(flyoutComponent, this.getFlyoutProps(evaluatedProps, calculatedValues)), React.cloneElement(labelComponent, this.getLabelProps(evaluatedProps, calculatedValues))];\n      var tooltip = React.cloneElement(groupComponent, {\n        role: \"presentation\",\n        transform: calculatedValues.transform\n      }, children);\n      return renderInPortal ? React.createElement(VictoryPortal, null, tooltip) : tooltip;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var props = Helpers.modifyProps(this.props, fallbackProps, \"tooltip\");\n      return this.renderTooltip(props);\n    }\n  }]);\n\n  return VictoryTooltip;\n}(React.Component);\n\nObject.defineProperty(VictoryTooltip, \"displayName\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: \"VictoryTooltip\"\n});\nObject.defineProperty(VictoryTooltip, \"propTypes\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    activateData: PropTypes.bool,\n    active: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n    angle: PropTypes.number,\n    cornerRadius: PropTypes.oneOfType([CustomPropTypes.nonNegative, PropTypes.func]),\n    data: PropTypes.array,\n    datum: PropTypes.object,\n    dx: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n    dy: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n    events: PropTypes.object,\n    flyoutComponent: PropTypes.element,\n    flyoutStyle: PropTypes.object,\n    groupComponent: PropTypes.element,\n    height: PropTypes.oneOfType([CustomPropTypes.nonNegative, PropTypes.func]),\n    horizontal: PropTypes.bool,\n    id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    index: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    labelComponent: PropTypes.element,\n    orientation: PropTypes.oneOfType([PropTypes.oneOf([\"top\", \"bottom\", \"left\", \"right\"]), PropTypes.func]),\n    pointerLength: PropTypes.oneOfType([CustomPropTypes.nonNegative, PropTypes.func]),\n    pointerWidth: PropTypes.oneOfType([CustomPropTypes.nonNegative, PropTypes.func]),\n    polar: PropTypes.bool,\n    renderInPortal: PropTypes.bool,\n    style: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    text: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func, PropTypes.array]),\n    theme: PropTypes.object,\n    width: PropTypes.oneOfType([CustomPropTypes.nonNegative, PropTypes.func]),\n    x: PropTypes.number,\n    y: PropTypes.number\n  }\n});\nObject.defineProperty(VictoryTooltip, \"defaultProps\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: {\n    active: false,\n    renderInPortal: true,\n    labelComponent: React.createElement(VictoryLabel, null),\n    flyoutComponent: React.createElement(Flyout, null),\n    groupComponent: React.createElement(\"g\", null)\n  }\n});\nObject.defineProperty(VictoryTooltip, \"defaultEvents\", {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  value: function (props) {\n    return [{\n      target: \"data\",\n      eventHandlers: {\n        onMouseOver: function () {\n          return props.activateData ? [{\n            target: \"labels\",\n            mutation: function () {\n              return {\n                active: true\n              };\n            }\n          }, {\n            target: \"data\",\n            mutation: function () {\n              return {\n                active: true\n              };\n            }\n          }] : [{\n            target: \"labels\",\n            mutation: function () {\n              return {\n                active: true\n              };\n            }\n          }];\n        },\n        onTouchStart: function () {\n          return props.activateData ? [{\n            target: \"labels\",\n            mutation: function () {\n              return {\n                active: true\n              };\n            }\n          }, {\n            target: \"data\",\n            mutation: function () {\n              return {\n                active: true\n              };\n            }\n          }] : [{\n            target: \"labels\",\n            mutation: function () {\n              return {\n                active: true\n              };\n            }\n          }];\n        },\n        onMouseOut: function () {\n          return props.activateData ? [{\n            target: \"labels\",\n            mutation: function () {\n              return {\n                active: undefined\n              };\n            }\n          }, {\n            target: \"data\",\n            mutation: function () {\n              return {\n                active: undefined\n              };\n            }\n          }] : [{\n            target: \"labels\",\n            mutation: function () {\n              return {\n                active: undefined\n              };\n            }\n          }];\n        },\n        onTouchEnd: function () {\n          return props.activateData ? [{\n            target: \"labels\",\n            mutation: function () {\n              return {\n                active: undefined\n              };\n            }\n          }, {\n            target: \"data\",\n            mutation: function () {\n              return {\n                active: undefined\n              };\n            }\n          }] : [{\n            target: \"labels\",\n            mutation: function () {\n              return {\n                active: undefined\n              };\n            }\n          }];\n        }\n      }\n    }];\n  }\n});\nexport { VictoryTooltip as default };"]},"metadata":{},"sourceType":"module"}